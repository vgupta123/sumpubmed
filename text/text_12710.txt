BACKGROUND
traditional genomic annotation relies heavily on manual expert curation  <cit> . with the arrival of next generation technologies, genomic data grows exponentially  <cit>  while expert curation increasingly lags behind  <cit> . many systems have been developed to facilitate community-based curation to address this problem. most of these systems are “wiki-based”; e.g., gene wiki  <cit>  and wikigenes  <cit>  for gene annotations, rna wikiproject  <cit>  and mirbase  <cit>  for rna annotations, wikiproteins  <cit>  and topsan  <cit>  for protein annotations, and wikipathways  <cit>  for pathway annotations. in general, these systems use wiki technologies to create a wiki page or “stub” for each gene/protein/etc., remove potential duplicates, create hyperlinks to relevant information, and let registered users be contributors to add community annotations. even though wiki technologies enable community annotations, there are additional issues to be resolved:authorship matters in scientific annotations, because scientists need recognition, and the scientific community needs additional information to judge the authority of annotations  <cit> .

even though wikipedia is considered reliable in general, it is not subject to strict peer review. without proper quality control, there can be a large number of dubious annotations  <cit> .

some wiki pages will need to remain private in a short period of time before they are ready for publication  <cit> .

the usability issue needs to be addressed to encourage community participation  <cit> .

the level of community participation is not high due to lack of incentive  <cit> .

some areas require special expertise and therefore are not suitable for annotations by community at large  <cit> .



in order to address the above issues, various systems introduced mechanisms to track authorship, to limit editing to registered expert users, to incorporate expert review and validation, and to improve usability  <cit> . proposals have also been made to provide incentive and recognition of authorship  <cit> .

there are also non-wiki based systems such as oreganno  <cit>  and biogps  <cit> , which are standalone curation systems implemented using database technology and web-based user interface. such systems avoid some problems of the wiki-based systems; however, they require more development efforts to implement data storage and user interface, and still need to address issues such as information validation, usability and community participation even though integrated genomic information provided by such systems helps improving the usability, and registered users provide the base for community participation.

the exponential data growth problem has also been encountered in the integrated microbial genome system . as of january  <dig>  img has more than  <dig>  archaeal, bacterial and eukaryotic genomes, with more than  <dig> million genes in those genomes. many genes are simply annotated as hypothetic proteins without more specific information. there is also an urgent need to support community annotation and user collaboration in img. therefore, myimg annotation, which is a tool tightly integrated into img and is not wiki based, has been developed.

there are several reasons we follow the integrated system approach rather than the wiki-based approach to support annotation and collaboration. first, wiki-based approaches require identifying and removing duplications so that there won’t be redundant and confusing web pages. all the above mentioned wiki-based systems only have thousands or tens of thousands of objects , and it is not too difficult to identify duplications for removal. in contrast, img has more than 140 m isolate genes, and it is not trivial to identify non-redundant genes. continuous data loading and marking as obsolete, older and redundant versions of genomes in img further complicate the problem. second, img already provides many comparative analysis tools to aid users in finding additional information or locating potential “missing” genes that were overlooked by the gene calling pipelines. that is, img not only offers a place for users to add and share annotations but also provides tools to help users performing annotations. in addition, img provides tools for users to save genomes, genes, scaffolds and functions into workspace datasets, and users can also use these workspace functions to reorganize various objects  to suit their research needs. by incorporating annotation operations into img, we provide an integrated environment for users to perform extended data analysis and annotation in a single system that can lead to publications and community knowledge sharing as illustrated in the rest of this paper.

the integrated system approach does not automatically resolve all problems encountered by the wiki-based approach. we still need to address issues such as usability, authorship recognition and tracing, user incentive, and reliability even though existing img features already provide at least partial solutions. moreover, img has more than  <dig>  registered users from  <dig> countries as of january  <dig>  which provides a solid base for community participation. involvement of doe joint genome institute  experts also helps with the reliability and certain usability issues.

implementation
img system
img ui  is a free web based tool, open to all scientists worldwide for the annotation, analysis, and distribution of their own genome and metagenome datasets. the img web ui works on all modern computers on the following operation systems: win 7/ <dig>  mac os and linux. img’s recommend web browsers are google’s chrome version 49+ and firefox version 45+ with javascript and cookies enabled. also, a high speed internet connection with a minimum of  <dig> mbps is required to view img’s large data sets. img uses some third parties tools like artemis which requires java version  <dig> + to be installed on the user’s computer. all other img’s analysis tools use open source bioinformatics software: blast, mummer, emboss, bioperl, which run on img’s linux servers. where the img’s perl web framework creates viewers using yui javascript and d <dig> javascript libraries, to create tables, charts and graphs.

img data warehouse is a hybrid system consisting of oracle 11 g databases, sqlite databases and file systems. accesses to the data warehouse are through img ui.

more information regarding the img system can be found at: http://img.jgi.doe.gov/.

img user groups
biologists analyzing genomic sequences usually work in groups. they wish to share private genomic annotations with collaborators until the research results are accepted for publication. after that, the annotations can be available for general public consumption. each scientist can participate in multiple research groups, and a group can be consisting of colleagues of the same or interdisciplinary fields or mentors and students. this effectively captures all four collaboration types: peer-to-peer, mentor-student, interdisciplinary, and producer-consumer as described in  <cit> .

img started supporting user groups in  <dig>  groups were created for jgi internal research groups, university professor and student groups, collaborative annotation jamborees, etc. initially groups were created through email requests, and each user could belong to only one group. recent extension allows users to create their own groups using img’s user interface, and a user can belong to multiple groups. there are currently more than  <dig> user groups .

new features allow users to actively manage their groups and to share information for collaboration. there are  <dig> possible roles for a user group:  owner,  co-owner, who also has the administrative privilege, and  member. owners and co-owners can update group description, add members to a group, or remove members from a group. even though members cannot add or remove other members, they can decide to withdraw from a group.

all group members can post news to share with other group members. news can include notifications, new publications, links to shared documentation  for collaboration, etc. members can also grant access permission of their private genomes to other group members. group members can also share annotations and workspace data sets .

img gene annotations
we have started supporting img gene annotations since img er  <dig>   <cit> ; new features are continuously being added. there are two types of gene annotations:myimg gene annotation allows users to add additional information to existing genes or to make the genes obsolete. each myimg gene annotation includes the following fields that can be manually edited: gene product name, gene symbol, description, enzyme ec number, pubmed id, notes, and whether the gene is marked deleted.

missing gene annotation allows users to add new genes that have been missed by gene calling pipelines. each missing gene annotation includes the following fields: gene product name, gene symbol, locus type , locus tag, coordinates on a scaffold, strand, and enzyme ec number.



tools for finding candidate gene product name using function comparison, finding missing enzymes using kegg pathways, and finding missing genes using phylogenetic profiler have already been described  <cit> . since then new tools are constantly being added. here, we provide comprehensive gene annotation methods using both existing and recently developed tools.

sequence similarity based annotation
the most common way to acquire additional gene information is by using sequence similarity search such as blast. if a gene g <dig> is found to be matching a better annotated gene g <dig>  information of g <dig> such as gene product name, gene symbol, enzyme and protein information can be transferred to g <dig>  since it is very time consuming to check each gene of a genome using blast, img provides an analysis tool for massive gene comparison using phylogenetic profiler as shown in fig.  <dig>  <cit> .fig.  <dig> using phylogenetic profiler to find gene annotations and missing genes. from the find genes menu item, a user can select phylogenetic profilers: single genes submenu ) to start investigating genes in a selected candidate genome with or without homologs in other closely related genomes ). while the “with homologs” option is useful for additional myimg gene annotations, the “without homologs” option provides a list of potential missing genes for further investigation ). to investigate a potential missing gene, the user first selects the gene and then clicks on the “missing gene?” button ). potential missing genes identified by tblastn search will be displayed



phylogenetic profiler allows users to find genes of a target genome with or without homologs in one or more closely related reference genomes. for those genes with homologs, functional annotation of homolog genes can be transferred to the genes. potential missing genes can be identified for genes in reference genomes that do not have homologs in the target genome. after users identify potential missing genes, they can then go to myimg to add missing gene annotations of those genes. similar to myimg annotations, missing gene information is private by default and can be shared among group members.

sequence similarity based approach, though simple, has its limitations. this approach relies on the availability of closely related reference genomes with better annotations. in addition, even though phylogenetic profile provides a list of potential missing genes for investigation, it is still tedious and time consuming to go through the list. for better results, sequence similarity based approach can be combined with additional approaches to be described below.

function based annotation
users can annotate a gene with more meaningful name  simply by checking functional annotation of the same gene. for example, genes without a product name but with evidence of potential functional annotation or with product name but without any evidence of functional annotation are candidates for product name review and curation  <cit> .

function profile is a widely used tool to check whether a set of functions is present in closely related genomes. users can take advantage of various function categories in img to help gathering a set of functions for running profile. for example,cog category: a cog category consists of a set of cog functions  <cit> .

pfam clan: a pfam clan consists of a set of pfam functions  <cit> .

tigrfam role: a tigrfam role consists of a set of tigrfam functions  <cit> .

kegg pathway: a kegg pathway consists of a set of enzymes  <cit> .

kegg module: a kegg module consists of a set of ko terms  <cit> .

img pathway: an img pathway consists of a set of ordered reactions; each reaction is linked to one or more img terms  <cit> .

img parts list: an img parts list consists of a set of img terms of related function.



figure  <dig> shows an example of using img part list nodulation factor biosynthesis, export and regulation, which contains  <dig> img terms for enzymes, transporters and regulators participating in biosynthesis and export of nodulation factors, to find missing img terms in bradyrhizobium genomes.fig.  <dig> finding missing img terms using function profile. a user first selects an img part list nodulation factor biosynthesis, export and regulation to load all component img terms into function cart ). all bradyrhizobium genomes are supposed to have genes associated with these terms. however, some terms are missing in certain genomes ). clicking on the zero count will lead to searching potential genes using blast as the result shown in fig.  <dig> . since microbial genes with related functions tend to be close together on the scaffold, an alternative approach is to investigate intergenic regions of genes with functions to look for potential missing genes )



img also provides tools for users to investigate possible missing enzymes based on kegg pathways as shown in  <cit> . the tool uses both sequence similarity search and pre-computed gene-ko  information in the database, which includes a list of genes not being annotated with enzymes because the association did not make the strict cutoff determined by the img data processing pipeline. users can review the list and decide whether to add myimg gene-enzyme annotations using their professional judgment.

even though the finding missing enzyme function has been introduced since  <dig>  it has not been widely used. we realize that with more than  <dig>  archaeal, bacterial and eukaryotic genomes and  <dig> kegg pathways in img, trying to find missing enzymes using the above tool is like finding needle in haystack. therefore, we recently added additional functions  to show all genomes participated in the selected kegg pathway, and potential genomes with missing enzymes to help narrowing down candidate genomes .fig.  <dig> list of participating genomes and potential genomes with missing enzymes. two new functions are provided to help users to narrow down genome searches ). participating genomes in kegg pathway gives users a list of all genomes participated in the selected pathway together with the enzymes ). potential genomes with missing enzymes function gives users a list of potential genomes with missing enzymes to investigate )



for many researchers, kegg pathways are often too broad, and they’d rather rely on kegg modules with more restricted focus. therefore, we recently introduced colored kegg module maps and finding missing functions using kegg modules similar to what we have done for kegg pathways. an example of finding genes missing ko terms is shown in fig.  <dig> fig.  <dig> finding genes with missing ko terms. many salmonella enterica genomes have complete ko module m <dig> 2-aminoethylphosphonate transport system. while salmonella enterica enterica sv. typhi e01- <dig> is shown to be missing a ko term k <dig> ). when a user displays kegg module map of m <dig>  he/she can clearly see that the genome has genes associated with  <dig> other ko terms but not k <dig> ). by clicking on the “green” ko term on the map, the user can use a new img tools to identify  <dig> genes that can potentially be associated with this ko term



img phenotype prediction and pathway assertion also provides a way for users to identify genes missing img term assignment. it is shown in  <cit>  that burkholderia sp. sj <dig> contains genes for chorismate synthesis. however, the genome does not have img pathway  <dig> chorismate synthesis asserted. the pathway assertion status is unknown due to missing img term  <dig> shikimate dehydrogenase  even though there are ortholog genes annotated with this term. after using sequence similarity search,  <dig> genes were found to be potential candidates of missing term assignment.

another new tool in the gene detail page allows users to find the function distribution of other public genes in img with the same functional association of a particular gene. users can then view those public genes with selected functional assignment to find a more meaningful name of the candidate gene .fig.  <dig> using function based production name method to aid myimg annotation. a gene may be assigned with a product name “hypothetic protein” due to lack of information even though it is association with some functional assignment. using the function based finding candidate product name method from the gene detail page ), users will be able to see the function distribution of other public genes with the same functional assignment ). the list genes function shows all public genes with selected functional assignment ), which can provide hint for myimg annotation of the candidate gene



gene neighborhood based annotation
gene neighborhood is another common tool used for gene annotations. simply by looking at the gene neighborhood diagram, a user can sometimes tell whether a gene is too long or too short, and whether there are overlapping genes. long intergenic region or presence of genes in reference genomes shown in the gene neighborhood can also suggest the existence of missing genes. expert users often rely on sequence visualization and analysis tools such as artemis  <cit>  to identify missing genes.

an example of using gene neighborhood to aid myimg gene annotation is shown in fig.  <dig> fig.  <dig> using gene neighborhood to aid myimg annotation. a gene may be assigned with a product name “conserved hypothetic protein” due to lack of information ). however, from the gene neighborhood with the same top cog hit ) shows that there are other similar genes with more meaningful product names ). in this case, a user can add myimg annotation product name such as “putative rna-associated protein”



since microbial genes of related functions tend to locate closely together on a scaffold, gene neighborhood method can be combined with function based method to find missing genes. following the nodulation factor example in fig.  <dig>  when a genome is missing a function as shown in function profile, there can be two possibilities:  one or more genes of the genome should have been annotated with this function, or  the gene calling pipeline missed calling gene for the function. in case  a user can investigate intergenic regions of genes with functions to spot potential missing genes ).

spurious genes can be added by incorrect gene calling programs. when gene neighborhood with the same top cog hit returns no result, there is a possibility that the gene may not be real. when gene neighborhood shows overlapping genes, it is also a good indication that one or more genes are incorrectly called. domain experts can also identify erroneous genes by checking the sequence data. spurious genes can be genes that are too long, too short, with incorrect starting codon, etc  <cit> . img users can mark deleting genes by creating myimg gene annotations with “remove gene from genome?” field set to yes.

the review of genes and their functional annotations may lead to the identification of missing genes. for every marked deleted gene, it is possible to identify one or more genes in the neighborhood. for example,gene too short: there may be a longer gene.

gene too long: there may be one or more shorter genes.

incorrect starting codon: there can be a real gene downstream or upstream.



sharing and comparing myimg annotations
if a user belongs to one or more img groups, then the user can view all myimg annotations by group members with the following restrictions:the user must have access permission to the genomes. all myimg annotations on private genomes will only be visible to other group members that have access permission to the private genomes. shared or public myimg annotations on public genomes are not restricted.

those myimg annotations must be either public or shared by the authors of the annotations. 

the user can only view, but not modify, myimg annotations by other group members.



the “view group annotations” option in myimg allows a user to view shared annotations by group members. many img users have used this feature for group annotations with colleagues. for users who belong to multiple img groups, there will be a dropdown selection for users to switch groups.

a recently introduced “update group sharing” section allows users to change the group sharing option of selected annotations. there are two options for a user to share his/her myimg annotations:sharing all myimg annotations of selected genome;

sharing individually selected myimg annotations.



myimg annotations are private by default. however, img users can release any of their myimg annotations to public. public myimg annotations are visible to all img users provided that users have access permissions to the corresponding genomes. public myimg annotations on public genomes can be viewed by all users. moreover, since img er is an “expert review” site, all public missing gene annotations can be reviewed and modified by jgi experts.

the “show all user annotation” function in a gene detail page allows a user to view all myimg annotations available to him/her on this particular gene. all gene annotations together with curator names are listed in a table for easy comparison.

pathway annotations
some research areas require profound domain knowledge and are best left to only expert annotations. therefore, many systems have restricted certain editing capabilities to experts only  <cit> . poor annotations can lead to multiple dubious entries  <cit> . this is especially true in img where pathway assertion results are used to predict phenotypes  <cit> . hence, only jgi experts and a few external users with special permissions are allowed to img pathway curation  <cit>  . fig.  <dig> img pathway curation. users with curation privilege will be able to see an additional curation submenu item in the analysis cart ). an img pathway is consist of one or more sequential, alternative, and/or optional reactions ), while each reaction is consist of definition, equation, compounds as reactant, product or catalyst and related img terms )



due to the tremendous effort required to define a pathway, img currently has only 900+ img pathways in the database. all img pathways are public to all users.

biosynthetic cluster annotations
biosynthetic clusters and secondary metabolites  are recent additions to the img system  <cit> . there is currently increasing research interest in biosynthetic clusters and natural products. however, the amount of experimentally available data in this area is scarce. among more than  <dig> million experimentally verified and predicted biosynthetic clusters in img, only less than  <dig>  % of the clusters are associated with any secondary metabolites.

it is possible to associate biosynthetic clusters to secondary metabolites using sequence similarity search and pathway structures as described in a case study in  <cit> . users can also use additional pathway or kegg module information to discover or predict secondary metabolites as shown in an example in fig.  <dig> fig.  <dig> biosynthetic cluster and secondary metabolite annotation. experimentally verified biosynthetic clusters are associated with secondary metabolites, while such information is missing from predicted biosynthetic clusters. biosynthetic cluster  <dig> of streptomyces sp. wt <dig> is an experimentally verified cluster  associated with natural product mevalonate. genes of this cluster participate in  <dig> kegg modules ). kegg module map m <dig> c <dig> isoprenoid biosynthesis, mevalonate pathway for this cluster shows that genes in this cluster are linked to  <dig> of the ko terms ). predicted biosynthetic cluster  <dig> of streptomyces fradiae atcc  <dig> does not have any secondary metabolite information. however, it contains  <dig> genes associated with the same  <dig> ko terms of m <dig>  which is a good indication that the cluster can produce the same secondary metabolite ). users can use the “add sm annotation” function to annotate the association )



users can use the “add sm annotation” function to annotate their discovery. each myimg sm annotation includes a compound selection, ncbi accession and taxon information  and free text comments. the annotation will remain private until the owner decides to release the information to community at large. we are hoping that with the introduction of img-abc and the new myimg sm annotation features, more community users will collaborate to contribute to the advance in this research area.

workspace for annotation and collaboration
img workspace allows users to store their work in progress in four types of datasets: genome sets, scaffold sets, gene sets and function sets. unlike analysis carts, which are transient and are deleted after each session, workspace datasets are stored permanently until users explicitly delete them. it can be considered as a form of electronic notebooks for genomic data.

besides data storage function, workspace can also be used for additional user annotation and collaboration, which cannot be achieved by using myimg annotations alone. we will describe these additional functions immediately below.

workspace scaffold sets for organizing new genomes or metagenomes
metagenome “binning” involves isolating certain scaffolds from a metagenomic dataset in order to remove contamination or to extract isolate genomes or single cells from the metagenome  <cit> . many img analysis tools such as phylogenetic distribution, kmer frequency, function profile have been widely used for metagenome binning. isolated or de-contaminated scaffolds can be saved into workspace scaffold sets, which can be further investigated using additional analysis tools provided by img. users can also export the nucleotide sequence of scaffolds in a particular dataset to resubmit to img as a new genome or metagenome.

workspace gene sets for creating new biosynthetic clusters
img-abc system  <cit>  includes more than  <dig> million experimentally verified and predicted biosynthetic clusters. in each biosynthetic cluster detail page, there are additional information showing secondary metabolites associated with the cluster and pathway participation of genes in the cluster. kegg map display of a biosynthetic cluster shows not only genes of this cluster but also other genes in the genome not in the cluster. in this way, a user can see clearly how well a cluster covers a pathway. an example in fig.  <dig> shows a biosynthetic cluster that covers only portion of a pathway, while a new cluster with additional genes upstream and downstream will be able to cover an entire path.fig.  <dig> kegg map display of biosynthetic cluster genes. an experimentally verified biosynthetic cluster from ncbi with genbank id x <dig> has  <dig> genes ). the kegg map shows the genes in this cluster only partially covers the actinorhodin pathway. the boxes colored in magenta in the pathway map are linked to genes of this cluster, while the boxes colored in purple are genes in the same genome but not in the cluster ). by adding  <dig> additional upstream and downstream genes, a new cluster will be able to cover the entire pathway )



workspace gene set can be used as a tool for users to annotate their own biosynthetic clusters. a user can start with loading genes of an experimentally verified or predicted biosynthetic cluster into gene cart. in addition to biosynthetic clusters that are already in img, it is also possible for users to find genes mentioned in literature but not included in any img gene clusters. additional genes on the same scaffold can be added based on analysis results from various img tools such as the kegg map display example described above. it is also possible to detect genes that should have been excluded. the final analysis result can be saved as a workspace gene set with a meaningful name. a genbank-format file can be generated to include all genes in the final result, and the file can be submitted to img as a new genome fragment. alternatively, a user can also obtain a portion of the scaffold based on gene coordinates and then submit the sequence to img as a new genome fragment.

workspace function sets for defining pathways
for img users who are not interested in active pathway curation or who do not have the curation permission, it is still possible for them to “make their own pathway” using workspace function sets. a user can start with studying an img pathway, a metacyc pathway, a kegg pathway or a kegg module to collect all or some of the functions . the user can then check pathway assertion of various genomes using the genome set function profile in workspace or using the function-genome profile provided in analysis cart . this tool enables users to try out pathway construction that is not limited to a single type of functions  and contributes to future pathway curation.fig.  <dig> make your own pathway and check assertion. a user can create a new “pathway” by adding functions into a workspace function set. for example, a user can create a “ <dig> hydroxypropionate” pathway to include  <dig> ko terms k <dig>  k <dig> and k <dig> ). function-genome profile then shows which genomes are “asserted” for this new pathway )



shared workspace for collaboration
ever since the introduction of workspace to the img system in  <dig>  more than  <dig>  % of all img registered users have used workspace to store more than  <dig>  datasets for their analysis . we have described how img users can use workspace scaffold sets or gene sets to perform “above gene level” annotations to form new genomes or biosynthetic clusters, and use workspace function sets to make their own pathways. to perform group annotation, users can share their workspace datasets with their colleagues. previously workspace dataset sharing was achieved through exporting and importing datasets, which is not only cumbersome but also does not support interactive analysis. we have recently introduced dynamic workspace dataset sharing within img groups to overcome the obstacle.

if a user belongs to one or more img groups, then the dataset list in workspace will have  <dig> additional columns:owner: the owner of a dataset ;

shared with group: img group having access to this dataset.



all workspace datasets including genome, gene, scaffold and function can be shared. users not only can view the content of a shared dataset but also can use shared datasets to perform analysis. however, users do not have editing privilege of others’ datasets; that is, they cannot edit or delete a dataset that they do not own. alternatively, a user can copy a shared dataset content and then edit the new version of his/her own.

with the introduction of workspace dataset sharing, users can now work together on metagenome binning, biosynthetic cluster and pathway study with colleagues. they can dynamically compare results using workspace profile functions or set operations to reach a group consensus and then resubmit the final datasets back into img, which can then be shared with community at large.

RESULTS
for many years img users have used the community annotation and user collaboration features in img for their research leading to information sharing and publications. we will describe three selected use cases in this section. none of the cases use all the provided features in img because certain features are irrelevant to their research and/or some new features were not available at their time of work . therefore, we also present a mock scenario at the end of this section to show case how new img users can benefit the most.

xanthomonas study
neha potnis  and  <dig> colleagues have formed an img group for their xanthomonas research. three xanthomonas genomes were submitted to img in  <dig>  the group used xanthomonas campestris pv. vesicatoria 85- <dig> as a reference for annotation and used the gene neighborhood feature to add myimg annotations. they also identified genes with incorrect starting codon, and those genes were marked obsolete. finding missing gene function was used frequently to add genes that gene calling pipeline has failed to identify. they also found actual genes coded on opposite strands. the group commented that img platform allowed them to work collaboratively where scientists with expertise in different virulence systems could annotate the respective genes/clusters of their interest. after the three genomes have been properly annotated, new genbank files were generated and submitted to ncbi. the new versions were added back into img in 2011:xanthomonas gardneri pddcc  <dig>  atcc  <dig> 

xanthomonas perforans 91- <dig> 

xanthomonas vesicatoria maraite, atcc  <dig> 



their research lead to a publication  <cit> , which is also listed in the genome detail page of the above three genomes.

methanocella study
zhe lyu and advisor  have formed a group to study three methanocella genomes. their study focused on annotating genes identified by gene calling rather than adding missing genes. the users used gene neighborhood analysis to find operons, and used gene similarity search to find top homologs, orthologs and paralogs. zhe also used other third party tools to build phylogenetic trees using results from img. the results from various methods assisted his myimg annotations. zhe’s myimg annotations on the following two genomes were released to public and could be viewed by all img users:methanocella arvoryzae mre <dig>  

methanocella paludicola sanae  



the research result was published  <cit> . methanocella conradii hz <dig>  was loaded into img in  <dig>  and the genome detail page lists  <cit>  as genome publication.

burkholderia study
ann hirsch , colleagues and students have formed one of the largest img groups so far . their annotation effort has been running since  <dig> and is still continuing. because of the long involvement, this group also used the most community annotation and user collaboration features. many img group features were inspired by their needs.

the group has used blast, homolog searches, and various comparative analysis tools provided by img to assist myimg annotations. gene neighborhood analysis was used to check conservation of genes among different bacteria. additional enzyme information was found using the finding missing enzyme function. the results aided their myimg annotations.

in addition to annotating existing genes, some genes were marked for removal from the genomes when there’s good evidence, mostly resulting from not finding similar genes using neighborhood searches. new genes were added using the finding missing gene function provided by img as well as by checking gene neighborhoods and using sequence similarity searches.

their research results have been accepted for many publications including  <cit> , which is listed as a genome publication of burkholderia tuberum stm <dig> ) .

recently the group also started experimenting with additional new features such as workspace in assisting group collaboration. there is also a plan to release myimg annotations upon the acceptance of their papers.

mock scenario
we present here a mock scenario to show case how users can benefit the most from available img community annotation and user collaboration features.

a principal investigator  first creates an img group to include all collaborators. some collaborators can be assigned the role of co-owners to help with group administration. all relevant genomes and metagenomes for this research project can be saved in one or more workspace genome sets to be shared by all group members. pi can also use the grant genome permission feature in the img group to grant access of private genomes and metagenomes to group members. a news item can be posted to inform members of the shared workspace genome sets to work on. a hyperlink to shared documents  can also be included in the news.

group members then start researching on the genomes listed in the shared workspace genome datasets. they can save genes of interest to various workspace gene sets to be shared with other group members. users can load contents of private or shared gene sets into gene cart and use a plethora of tools provided in img for analysis. they can add myimg gene annotations for gene product names, missing enzymes and additional protein information. they can also use sequence visualization tools and phylogenetic profiler to discover potential missing genes in an isolate genome. gene neighborhood search results can be used to add additional annotations, to spot spurious genes, or to find new missing genes. workspace gene sets and myimg annotations can be shared among group members so that users can compare results. users can also view myimg gene annotations highlighted in a kegg pathway map. if the research involves biosynthetic clusters and secondary metabolites , then myimg sm annotations can also be added.

once the research is complete, the pi can consolidate all myimg annotations. img provides a function for users to include myimg gene annotation to generate a genbank file of an isolate genome. a user can then review and revise the genbank file for new submission . after the research result is accepted for publication, pi can make private genomes and corresponding myimg gene annotations public to be shared with community at large. new publications can be added to corresponding projects in the genomes online database   <cit> , and the publication information will be available to all img users from the genome detail pages.

CONCLUSIONS
in this paper we present img features that support community annotation and user collaboration. img users can create img user groups to share genomes, user annotations and workspace datasets. they can also use various analysis and annotation tools in img to assist their research as described in detail in the implementation section. case studies in the results section show that annotation can be part of the research process leading to knowledge sharing and academic publications.

we are able to address various issues encountered by other genomic annotation systems as follows:usability: img provides integrated genomic information and various analysis tools to help users with their research and investigation. img users not only can add annotations to genes, but also can perform metagenome binning and form new gene clusters using tools provided by img, which is difficult to achieve using only a wiki-based system.

authorship recognition and tracing: img provides author recognition by linking annotations to users. users can compare gene annotations of different authors in a list display, which is much easier and clearer than tracing through many versions of document editing. publications  are listed in genome detail pages.

user incentive: img annotation can be part of a research process as described in this paper. users can incorporate their annotation results in the new version of genomes or simply release their existing private annotations upon the acceptance of their research paper. since it requires minimal additional effort, we believe that users are more willing to participate.

reliability: annotations are linked to real users. genome detail pages list publications that have gone through strict peer review. moreover, jgi experts are closely involved with public annotations, which greatly improves the reliability of the information. help from jgi experts was acknowledged in many user publications.



unlike most genomic annotation systems that only focus on one type of data , img provides an integrated environment with genomes, genes, functions, pathways, etc. so far we have only provided user annotation features for genes , pathways , biosynthetic clusters and secondary metabolites. there is no reason besides resource limitation that we cannot extend annotation capabilities to more gene features and/or to other types of objects in img. this will be an area for future improvement.

ethics
not applicable.

consent to publish
not applicable.

availability of data and material
img/er  is available through url http://img.jgi.doe.gov/mer. browser requirements are described in the implementation section of this paper. img is committed to provide scientists worldwide free support for genome & metagenome data annotation & integration and open access comparative analysis of integrated genome and metagenomes. img users need to register at: jgi single sign on  in order to obtain a login and password for gaining access to img’s data content and analysis tools . logins/passwords allow users to  submit their own genomes/metagenomes and keep them “private” for up to two years while they review and revise annotations;  employ img’s curation tools for identifying and correcting annotation anomalies, such as protein products, for both private or public genomes-annotation revisions are recorded/saved in user specific “myimg” files on img’s file system;  employ img’s workspace which supports a persistent version of img’s “carts” and performing long running analysis computations;  download img genome and metagenome datasets via jgi’s portals.

abbreviations
bcbiosynthetic cluster

cogclusters of orthologous groups

imgintegrated microbial genomes system

jgidoe joint genome institute

keggkyoto encyclopedia of genes and genomes

kokegg orthology

npnatural product

smsecondary metabolite

competing interests

the authors declare that they have no competing interests.

authors’ contributions

nck, nni and vmm conceived the original idea of supporting user annotations in img. iac and kc proposed the idea of supporting workspace in img. iac, kc, es, jh and ar implemented the img ui features and workspace. kp designed the database schema. iac, kp, es, mp and mhu developed and maintained the img data warehouse and data loading pipelines. nck, nni, nm and go contributed to gene and pathway annotations, and mha and iac contributed to biosynthetic cluster and secondary metabolite annotations. iac conducted the user case studies and wrote the paper with improvement suggestions and revisions from vmm, kp and nck. vmm and nck supervised the img project. all authors read and approved the manuscript.

