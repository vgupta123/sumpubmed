BACKGROUND
animal behavior is rich and complex  <cit> . it spans a tremendously wide range of phenotypes such as sleep, mating, food search, and fighting. in its early days, this fascinating field was dominated by classical field studies involving visual inspection and hand-written documentation. the discipline has considerably evolved and nowadays is known as “computational ethology”  <cit> . technology advances are now replacing the laborious manual work and scientists employ sophisticated computational approaches to generate accurate quantitative understanding of the detail-rich complex behaviors.

in the last few decades, significant advances in genetic- and neural-related techniques have been achieved, and animal model systems have become popular to study complex behaviors under lab-controlled environments. these animal models range from simple invertebrates, such as worms and flies, to mammalian models, including mice and monkeys  <cit> .

of particular interest is the small roundworm c. elegans  <cit> . among the many advantages that this nematode offers are its short generation time, the easy and inexpensive handling, and the availability of its fully-reconstructed neural system consisting of only  <dig> neurons  <cit> . c. elegans animals also show remarkably complex behaviors, including mating  <cit> , roaming and foraging  <cit> , lethargus  <cit> , and taxis towards various stimuli such as preferred temperature  <cit> , magnetic fields  <cit> , and food . over the years, large genetic screens have identified a vast set of mutations in genes that modulate these behavioral outputs, enabling a mechanistic insight into these complex behaviors  <cit> .

in addition, a growing interest is directed towards quantitative measures of aging and proteotoxicity-associated physiological decline. c. elegans is an appealing model organism to study these processes as many human neurodegenerative diseases that result from aggregation of proteotoxic proteins can be recapitulated in the worms’ muscular and nervous systems  <cit> . these diseases are often associated with deteriorating locomotion abilities, culminating eventually in complete paralysis. it therefore becomes an important, yet extremely challenging, task to quantify minute locomotive changes in a high-throughput manner.

to study such complex behaviors, numerous tracking systems that image freely-moving animals have been developed. these systems extract various fine locomotion features, such as animal posture, undulation properties, speed, and attraction or repulsion towards or away from stimulants . to support high-throughput studies, some of these systems were designed to track multiple worms at a time. this sort of tracking is particularly challenging as accurate extraction of genuine worm entities from ‘noisy’ background is difficult. moreover, frequent animal collisions preclude extraction of long individual tracks.

here, we present a novel multi-animal tracker , an end-to-end, user-friendly solution for imaging, tracking, and analyzing complex behaviors. at the heart of the tracker is a machine learning algorithm; thus, the tracker makes no prior assumptions regarding the size or the shape of the tracked animals and hence is compatible in studying virtually any animal of interest. we also included built-in functions that allow non-programmers to analyze and visualize the immense data. we demonstrate its high-compatibility tracking various animals, and its powerful abilities studying complex behaviors in c. elegans animals in an accurate and high-throughput fashion.

RESULTS
in the following sections, we demonstrate the vast uses of the novel mat to studying complex behaviors. we begin by describing the packages included in the software suite and then provide experimental evidence, including novel gained insights, for the extensive usage of this mat in studying chemotaxis and sensory integration, as well as aging- and proteotoxicity-associated locomotion decline.

the new mat provides an end-to-end solution for tracking animals – from video acquisition and track identification to advanced analyses
our novel mat includes three software modules, namely  video acquisition,  track extraction, and  advanced functions for analyzing complex behaviors . all packages are based on matlab  and a detailed guideline for installing and using the different modules is provided in the accompanying additional file  <dig> fig.  <dig> a novel end-to-end multi-animal tracker software allows recording, tracking, and analyzing multiple animals at a time. a flowchart describing the sequential usage of the different packages included in the software suite. b a simple, user-friendly graphical user interface is provided to analyze tracks of multiple animals throughout a movie recording typically consisting of thousands of frames. the tracking software uses a machine learning algorithm to identify animal instances. the user is asked to ‘teach’ the software what is an animal by clicking on several animal instances. c–f the software is able to track and analyze the movement of different animals. shown are representative tracks extracted from movies of behaving  worms,  flies,  zebrafish, and  mice




the ‘animalsrecorder’ module allows capturing of time-lapse movies in a variety of video formats. this package circumvents the need to rely on commercial software that often interfaces with exclusive cameras and setups. the user can easily modulate various imaging parameters such as recording duration, number of frames, and exposure time.

the main module in the software is ‘animalstracker’. this module uses a machine learning algorithm to identify individual animals and extracts their continuous tracks over long temporal recordings, typically consisting thousands of frames. the graphical user interface  in this module displays several panels that allow scrolling between the different frames, and visually comparing the original image to a filtered one . this feature provides a simple and convenient mean to inspect and evaluate how well the tracker extracts the observed entities from their background in each frame. the user can quickly adjust the extraction sensitivity between different frames. once satisfied with the entities extraction, the user is asked to mark individual animals in order to train the machine learning algorithm to correctly identify them.

the additional module, ‘analysesplugins’, contains several useful built-in analyses functions; some of these functions are basic analysis tools, but others offer advanced toolkits that allow non-specialist programmers to sophisticatedly analyze the complex behavioral paradigms. these tools are further described below.

a machine learning algorithm extracts accurate tracks of multiple animals over long time periods
at the core of the tracker is a machine learning algorithm which provides an immense flexibility to image and track virtually any moving animal, including worms, flies, zebrafish, and mice . the user is not required to explicitly provide animal features. rather, the user ‘trains’ the tracker by clicking on a small number of animal entities from the assay images using a user-friendly gui . the tracker learns the animals’ features based on the user’s picks, and uses this information to build a discriminative model between animal entities and background ‘noise’ . moreover, the machine learning algorithm is insensitive to different acquisition parameters such as resolution, contrast, frame rate, color depth, etc. the tracker successfully distinguishes  between animals and background ‘noise’ that typically accumulates during long experiments . as few as a dozen clicks on animal entities from the first, mid, and last frames of the movie are sufficient for accurate extraction of animal trajectories throughout thousands of frames. in fact, accuracy analyses show that the tracker achieves a precision of approximately  <dig>  and recall of over  <dig>  .fig.  <dig> the tracking software successfully extracts trajectories of multiple animals at a time despite background noise. a principal component analysis over all detected animal instances in a single frame shows that worm entities are faithfully segregated from background entities. for example, during long temporal recordings, drop condensation on the lid and trail marks contribute to the identification of approximately  <dig> erroneous entities per frame. the number of genuine animal entities, however, remains constant  throughout the movie . thus, the software successfully learns the crucial features to detect animal entities and discards background noise. b accuracy of worm detection as a function of the training size. the precision  reaches nearly 90%, and recall  reaches approximately 85%. fscore is the harmonic average of the two parameters ; as few as  <dig> worms are sufficient to reach these accuracies . c implementing a variant of a kalman predictor significantly enhances track length. shown are the lengths  of all tracks without implementing the predictor , and when using the predictor . the y-axis and x-axis denote the start and end time, respectively, of the period the tracks lengths were averaged on. shown are all tracks identified throughout the movie. significant longer tracks are extracted if implementing the predictor . d there is a trade-off between the number of worms loaded on the assay plate and the average length of detected tracks. the more worms loaded the shorter are the continuously detected tracks. up to  <dig> worms can be assayed simultaneously in a field of view of 4 × 4 cm if not requiring extraction of long continuous tracks






additional file 2: movie s <dig>  the multi-animal tracker can track >  <dig> worms at a time. 






additional file 3: movie s <dig>  the multi-animal tracker can track multiple flies at a time. 






additional file 4: movie s <dig>  the multi-animal tracker can track multiple zebrafish at a time. 






additional file 5: movie s <dig>  the multi-animal tracker can track multiple mice at a time. the machine learning algorithm, together with the kalman predictor, filter out possible noise, such as user intervention, during the experiment. 




a major obstacle in maintaining long tracks of individual animals is the frequent collisions between them. to overcome this, we implemented a simple variation of the kalman filter  <cit> , which predicts the future position of the colliding animals based on previously observed motility features . implementing such a predictor significantly improves detection following animal collision; for example, implementing the predictor reduces the cases where none of the animal trajectories could be resolved following collision to approximately 2% only . moreover, the prediction also significantly extends the tracks’ length as it compensates in cases where animal segmentation fails to identify a genuine animal . overall, this allows the tracker to maintain identification of individual animals over long imaging time periods .



additional file 8: movie s <dig>  an exemplary movie extracting tracks of swimming zebrafish that does not implement neither the machine learning  algorithms nor the kalman predictor. without using these features, trajectory extraction is poor despite the fact that animals are easily detected due to a high contrast with the background. 






additional file 9: movie s <dig>  an exemplary movie extracting tracks of swimming zebrafish analyzed by implementing ml algorithms only . while segmentation and trajectory extraction is improved when compared to analyses that use neither of them, the results still fall short if compared to analyses that use both . 






additional file 10: movie s <dig>  an exemplary movie extracting tracks of swimming zebrafish analyzed by implementing both ml algorithms and the kalman predictor. using both features significantly improves segmentation and trajectory extraction. 




clearly, collision events become more probable as animal density increases, thereby limiting the time of efficient tracking. in our experimental setups , we found a negative linear correlation  between the number of worms on the experimental plate and the average duration of tracking . in addition, the implemented kalman-type predictor aids ignoring potential interference during the experiment. for example, the software discounts transient user interventions, such as manual handling of mice during the course of the experiment, and proceeds by focusing on mice tracks only .

the new tracker is highly suitable for studying large-scale dynamics of chemotaxis behavior
to demonstrate the many advantages and the high suitability of the mat to study complex behaviors, we focused on c. elegans nematodes. one of the fascinating complex behaviors that these worms exhibit is chemotaxis, in which animals navigate up a chemical gradient towards the chemical source. very often, chemotaxis assays are quantified by an attraction index that reflects the end position of the animal, disregarding its intricate trajectories throughout the course of the chemotactic behavior  <cit> . high-throughput analyses of such trajectories with their relation to the chemical source are imperative to underpinning the mechanisms by which animals navigate through gradients. our tracking system is particularly suitable for studying complex chemotactic behaviors – it extracts long behavioral tracks of dozens of animals at a time, and positions these trajectories relative to the stimulus source that is set as a reference point.

we used the tracking system to extract trajectories of a large number of animals tracked simultaneously during 30 minutes of chemotaxis. to study the chemotaxis performance quantitatively, we defined three regions of interest , namely the start point where a drop containing over  <dig> worms is placed , an area circling the spot of the chemotactic cue , and an area circling the control area typically spotted with the buffer solution used to dilute the chemical cue . the tracking software counts the number of worms entering or leaving each of these rois, thus providing a quick and quantitative analysis of chemotaxis kinetics that can be viewed as a temporal variation of the often used ‘chemotaxis index’ .fig.  <dig> the multi-animal tracker is particularly suitable for studying complex behaviors such as chemotaxis. a an image of the experimental chemotaxis plate. agar plugs soaked with the attractant odorant , or the control buffer , are placed on the plate’s lid. neither the attractant, nor the buffer, come in contact with the agar on the plate. approximately  <dig> worms are loaded at the starting point . the chemoattractant source, the buffer source, and the starting point form an imaginary equilateral triangle with an edge of 4 cm. b a quantitative cumulative dynamics of worm position in the chemotaxis assay over the course of approximately 15 minutes. the lines indicate the number of worms in each of the regions of interest throughout the experiment . in this experiment, nearly  <dig> worms were loaded on the assay plate. about two-thirds of them reached the chemoattractant during the first 15 minutes of the assay. c images were taken at the specific time points  throughout the assay  to illustrate chemotaxis progression in the assay plate. shown are also the trajectories  as identified by the tracker software. d–g the software suite includes a module to generate attraction fields , a visualization designed to provide spatial representation of the chemotaxis process throughout the experiment. shown here are afs of two chemotaxis assays in which the isoamyl-alcohol attractant was used in 10− <dig>  and 10− <dig>  dilutions. the experimental field is binned to squares . arrows represent the average direction of the worms and the color code indicates the overall occupancy throughout the course of the experiment . e, g chemotaxis dynamics as detailed in section b. together, these plots provide a full spatiotemporal representation of the chemotaxis behavior of multiple animals over the course of thousands of captured frames




presenting the rich trajectory data for multiple worms may become cumbersome given the enormous amount of data obtained by the tracking of multiple worms in a spatiotemporal manner over long time periods. to overcome this, we developed the attraction field  view, which captures many of the intricate parameters extracted throughout the course of the experiment in a single representation . for this purpose, we binned the entire field of view into squares , and for each square we plotted both the average direction of the worms  and the overall occupancy over time . this af representation provides a quantitative spatial measure of the chemotactic response; for example, higher chemoattractant levels yield more direct trajectories towards the chemoattractant from wider regions in the experimental field and higher worm occupancy around the target region compared to lower levels of the chemoattractant . when combining the af views with the roi kinetics representation , these data culminate in a rich quantitative spatiotemporal representation of the chemotactic response as measured simultaneously for multiple worms over long time periods. the af and roi analyses are supplied as built-in functions in our software analysis suite .

three key movement features define chemotaxis behavior in worms and presumably in other animals . these include reversals/sharp turns, runs, and pirouettes that are defined as bouts of multiple sharp turns and reversals  <cit> . as expected, these three parameters are dose dependent – the higher the chemoattractant concentration, the fewer the pirouettes and reversals and the longer the run times . interestingly, we find that an animal’s speed remains constant throughout the chemotactic behavior and is independent of the distance from the target. conversely, the probability for a pirouette grows linearly with the distance from the target .fig.  <dig> analysis of chemotaxis parameters. the software extracts several parameters that describe the chemotaxis performance:  mean probability for a pirouette,  mean probability for a reversal, and  mean run lengths . all these parameters are dose dependent – mean probabilities for pirouettes and reversals increase with decreases is the concentration of the attractant. conversely, mean run length time decreases. error bars denote sem of individual tracks. for the different concentrations of isoamyl-alcohol: 10– <dig>  we averaged  <dig> tracks in total; 10– <dig>   <dig> tracks in total; 10– <dig>   <dig> tracks in total. d probability for a pirouette increases the further the animal is located from the attractant, while the speed remains constant throughout the course of chemotaxis. points are averages taken from  <dig> experiments comprising  <dig> pirouette events and >  <dig> speed points




worms incorporate directional mechanisms to improve chemotaxis efficiency
surprisingly, the above experiments provided new insights regarding chemotaxis strategies. during chemotaxis, worms use two main strategies, namely  a biased random walk  where worms increase or decrease turning rates depending on whether they crawl down  or up  a chemical gradient, respectively  <cit> ; or  a weathervane movement , where worms moving perpendicular to the gradient reorient to move towards the gradient. interestingly, shimomura et al.  <cit>  showed that worms’ klinokinesis is not entirely composed of uniform reorientation events, and worms that are off-course just before the pirouette tend to compensate with a larger change in their direction following the pirouette such that they are better oriented towards the source.

our experimental results not only recapitulated these observations , but also provided novel understanding of this complex behavior; worms, originally directed towards the chemoattractant, tend to maintain their general direction following a pirouette . this, in addition to the observations made by shimomura et al.  <cit> , explains why both directed  and undirected  trajectories improve their general direction following a pirouette . directional changes that follow pirouette events show a bimodal distribution where small  ≈ 1) and large  ≈ –1) changes make nearly half of the total directional changes .fig.  <dig> worms improve their orientation towards the target following the exit from a pirouette. a  angular bearing histogram of worms oriented off-course  immediately before initiating the pirouettes ;  angular bearing histogram of the worms from  immediately after the pirouettes ;  a histogram of the cosine of the difference in the bearings before and after a pirouette cos for worms that were initially off-course. the histogram shows two peaks  indicating that worms tend to perform either extreme  or minute  angle changes. however, the tendency to perform a pirouette with a larger angular difference in bearing is significantly more probable . the data is composed of  <dig>  disoriented pirouette events. b  angular histogram of bearings for worms oriented on-course  immediately before the initiation of a pirouette .  angular histogram of worms bearing that are on-course immediately after the pirouette .  a histogram of the difference in the bearings before and after a pirouette cos for on-course worms. as in off-course worms, these initially on-course oriented worms tend to perform either extreme or minute angle changes, but the frequency of minute changes  = 1) is significantly higher . the data is composed of  <dig>  oriented pirouette events. c simulations of chemotaxis trajectories. we used three different strategies for choosing the exit angle from a pirouette . the experimentally observed principle, where the exit angle is sampled according to the entry angle, provides an efficient chemotaxis strategy reflected by the significantly shorter time to reach the target point . error bars denote sem of the number of simulated worms in each simulation. overall, we simulated  <dig> worms per strategy




to understand the functional significance of this reorientation strategy we simulated chemotaxis of worms adopting different criteria for choosing directional changes following a pirouette . interestingly, chemotaxis performance of worms simulated according to the strategy detailed above was superior over other possible strategies as the worms reached the target significantly faster . these findings provide a novel understanding of animal chemotaxis strategies, and further underscore the significant roles of pirouettes in mediating efficient chemotaxis.

worms integrate environmental cues and enhance chemotaxis towards richer environments
integrating information extracted from the environment is an important ability shared by many animals  <cit> . in particular, during food search, animals often face confusing cues and attending to the most reliable of them is likely to improve their chance of quickly reaching food sources  <cit> . for example, multiple cues originating from a source may be rendered as a more reliable food source than a source emitting a single cue.

we employed our mat system and asked whether c. elegans can integrate environmental information  presented as food odorant cues. to do this, we compared worm chemotaxis towards each of two cues, isoamyl-alcohol  and diacetyl , when presented independently and when combined as a single mixture . specifically, we used the same experimental design as detailed above for the chemotaxis assays . we first assayed worm chemotaxis to each cue in a dose-dependent manner and chose two equipotential concentrations . both stimuli at these concentrations attract worms with the same kinetics . interestingly, worms are significantly more attracted when these cues are combined and presented as a mixture, as many more worms reach the target area with faster kinetics . importantly, we halved the concentration of each stimulus in the mixture compared to its concentration when presented individually, and yet worms were significantly more attracted to the combination of the cues . this suggests that worms can attend both cues concomitantly as they navigate in search of food.fig.  <dig> worms integrate environmental information preferring richer environments. a integration experiments were performed by comparing worms’ chemotaxis in three different assay plates. two of the plates contained only one of the two cues each  and isoamyl-alcohol ). the concentrations for the two cues were predetermined via dose-response assays and equipotential concentrations  were chosen. a third assay plate contained a mixture of both cues, each cue in a concentration that is half of what was used in the single cue assay plate. b chemotaxis dynamics for the three assays. in the single chemoattractant experiments, we used a volumetric concentration of  <dig>  × 10−  <dig> for da, and  <dig>  × 10−  <dig> for iaa. accordingly, the mixture was composed of  <dig>  × 10−  <dig> of da and  <dig>  × 10−  <dig> of iaa. we fitted a linear curve to the dynamic curves and estimated the linear coefficient  to describe the potential of the cues to attract animals . chemotaxis towards each of the individual cues was very similar  indicating their equipotential attraction. the mixture, however, was significantly more attractive than each of cues alone. shown is an example of a single experiment where approximately  <dig> worms were loaded on each plate. c the mean projection, the component of the movement towards the target, is significantly higher in the mixture compared to each of the cues alone . error bars denote sem of all tracks together taken in a specific region of the experimental field. these data are composed of  <dig> run bouts for da;  <dig>  run bouts for iaa; and  <dig>  run bouts for the mixture




we next asked which features in the chemotaxis behavior underlie this enhanced attraction. for this, we analyzed the directness of the worms towards the different stimuli by quantifying the projection of their steps on the vector that connects the worm and the chemoattractant . we found that worms presented with a mixture of cues move more directly towards the source than worms presented with each cue alone . together, these data demonstrate that worms can integrate environmental information and attend to more than one cue at a time. furthermore, this integration is translated to behavioral outputs manifested primarily by the ability to better reorient the trajectory following a pirouette .

quantitative analyses of worm motility during aging and neurodegenerative-linked proteotoxicity progression
finally, we demonstrate the powerful advantages of using this novel mat in studying fine locomotion deficits associated with aging and neurodegenerative-related diseases. during these processes, animal locomotion deteriorates, culminating eventually in complete paralysis  <cit> . it therefore becomes extremely challenging to quantify minute locomotion changes during these critical periods. moreover, due to large locomotion variability within worm populations it is critical to collect large data sets in order to obtain reliable and reproducible results  <cit> . the mat system overcomes these hurdles owing to its high-throughput and accurate tracking.

to quantify locomotion during aging, we used synchronized worm populations and measured animal motility as they age. as expected, we found a steady and significant decline in animal motility that positively correlated with age . moreover, as velocity is considerably low in aged animals, our tracker faithfully identifies multiple worms at a time to score minimal displacement events at the single pixels per second resolution. importantly, the significant decline in the average animal speed was not due to possible death of a fraction of the animals . to rule out this possibility, we set our tracking algorithm to discard worm events that showed no activity throughout the experiment. this ensured that dead animals would not skew and bias the experimental results.fig.  <dig> the multi-animal tracker  is compatible with accurate high-throughput measurements of aging- and neurodegenerative-associated locomotion decline. a synchronized cf <dig> worms were grown to  <dig>   <dig>   <dig>  and 12 days of adulthood. an agar plug soaked with 1 μl of the repellent 2-nonanone  was attached to the plate lid and worm movement was recorded 2 minutes thereafter for 1 minute. analysis using the mat showed constant aging-associated decline in mean speed. b speed distributions within worm populations were unimodal, indicating that the mean value was not biased by a subpopulation of paralyzed or dead worms. the number of speed points in both  and  that we averaged on were  <dig>  for day 1;  <dig>  for day 4;  <dig> for day 8; and  <dig> for day  <dig>  c cf <dig> worms were grown to days  <dig>   <dig>  and  <dig> of adulthood on either control bacteria  or on daf- <dig> rnai bacteria. repellent was added and worm movement was analyzed as in . analysis using the mat confirmed that reduced insulin/igf- <dig> signaling  slows age-associated motility decline. d am <dig> worms expressing the aggregative polyq35-yfp fusion protein were grown to days  <dig>   <dig>  and  <dig> of adulthood on either control ev or daf- <dig> rnai bacteria, and speed was scored as in . note that x-axis is drawn to scale with panel c. speed declines as worms age and proteotoxicity progresses, but reduced iis slows motility decline. error bars denote sem of three biological repeats for panel a and four biological repeats for panels c and d. each biological repeat consists of 2– <dig> replicate plates with dozens of worms per plate. detailed data points are provided in additional file 13: table s <dig> * p <  <dig> ; ** p <  <dig> ; *** p <  <dig> 




we next employed our tracker to study aging-associated motility impairment following external manipulations such as those used in large-scale rnai or chemical screens. in c. elegans, knocking down the sole insulin/igf- <dig> signaling  receptor, daf- <dig>  leads to long-lived, stress-resistant animals that maintain robust proteostasis . indeed, worms treated with daf- <dig> rnai showed a significantly slowed deterioration in motility starting from day  <dig> and on . similarly, we utilized our mat system to quantitatively measure proteotoxicity-associated locomotion decline. for this, we tracked motility of worms expressing the aggregative peptide composed of  <dig> glutamine repeats  in their body wall muscles, which leads to motility impairment in a time-dependent manner  <cit> . as velocity declined with age, animals treated with daf- <dig> rnai exhibited a significantly slower decline, indicating the protective role of inhibiting iis in proteotoxicity . in particular, the mat system reliably detected minute motility differences  that ultimately reflect significant differential aging and proteotoxicity paces. together, these results demonstrate that our mat system is highly suitable for studying proteotoxicity- and age-related maladies in large worm populations, enabling fast, high-throughput, and accurate screens of mutant animals or rnai libraries.

discussion
herein, we present a novel mat that allows the tracking of multiple animals simultaneously over long time periods. importantly, this user-friendly system offers an end-to-end solution – from acquisition and recording movies, through tracking algorithms and advanced built-in analyses functions, to displaying the rich data in comprehensive and informative plots.

a major advantage of our system over existing multi-worm trackers is that we implemented a machine learning algorithm coupled with a kalman-type predictor  <cit> . these features turn the tracker into a multi-purpose system compatible with tracking various animals differing in size, appearance, velocities, and other activity parameters. indeed, we show that the software can faithfully track nematodes, flies, zebrafish, and mice . moreover, the tracker is indifferent to the acquisition systems , and it does not require adjusting parameters for particular environments or experimental settings .

combining machine learning algorithms together with the predictor also supports accurate detection and segmentation of animal entities, specifically so when background environments are ‘noisy’. for example, long temporal experiments are challenging as the environment is dynamic and often changes over the course of the experiment . our system reaches approximately 90% detection accuracy  when tracking around  <dig> worms simultaneously . furthermore, high-throughput studies that track multiple animals at a time pose an additional challenge – the greater the number of animals tracked, the higher the chances that they will collide, therefore precluding the possibility to track individuals over long time periods. however, implementing the predictor in our system significantly aids in resolving such collision events .

machine learning approaches had been previously applied to tracking single worms . our approach, however, is slightly different and is particular suitable for tracking multiple animals in long-temporal experiments in which noise accumulates over time. we allow the user to first set a fixed thresholding parameter , and then the user chooses segmented entities corresponding to genuine animals. based on the features of these entities, a classifier is learned and is subsequently used to classify other segmented entities throughout the movie. indeed, using several clicks on animal entities, the user ‘trains’ the algorithm to tell apart genuine animal entities from possible background noise, thereby significantly reducing erroneously detected animals. importantly, this learning step typically takes 1 minute, after which the algorithm automatically extracts animal entities from thousands of frames. if the same settings are used for subsequent experiments then the same training set can be used for their analyses. together, the machine learning algorithm and the predictor, the broad possible usage, and the ability to simultaneously track multiple animals over long time periods make this mat into a unique and powerful system for studying animal behavior.

various other machine-vision algorithms that support high-throughput tracking of many individual animals simultaneously are also available . similarly to our tracker, these systems automatically track large groups of unmarked animals. furthermore, machine learning methods were developed to support automatic behavioral classifiers based on animal trajectories alone, which subsequently infer higher order behavioral outputs such as social and individual behavior  <cit> . while our tracking system, together with its built-in analytic functions, is primarily geared to studying complex spatial navigation, it can also be used to study other complex behaviors. it will therefore be interesting to combine such machine learning post-acquisition methods to extend the repertoire of complex behaviors to be studied.

interestingly, our initial experience with the mat system already yielded novel insights into the intricate chemotaxis behavior. in a seminal study, shimomura et al.  <cit>  demonstrated the critical role of pirouettes  in chemotaxis, where worms entering a pirouette with an off-course angle tend to exit the pirouette better oriented towards the center of the gradient. our tracking analyses confirmed these results and added an additional important piece to this fascinating strategy – worms that enter the pirouette on-course oriented towards the target tend to maintain this on-course trajectory following the pirouette. together, these strategies greatly enhance an animal’s navigation abilities, enabling it to reach a target source significantly faster .

in addition, we used our mat system to show that c. elegans animals can integrate environmental cues . such integration is an important feature to predict food abundance and quality  <cit> . interestingly, we found that this sensory integration is manifested in the directional changes in the pirouette events – animals crawling towards a richer target are more likely to exit the pirouette at an angle that is more directed towards the target . in our experiment, we used two cues, da and iaa, sensed primarily by awa and awc sensory neurons . these two sensory neurons synapse on mutual downstream interneurons  that, along with additional inter and command neurons, control worm locomotion , thus presumably serving the point where sensory information is integrated before dictating locomotion outputs.

we also demonstrated that the mat system allows the study of aging and proteotoxicity-associated diseases. these processes are characterized by gradual locomotion decline, and quantitative accurate measurements are required to study this slow progression. our system accurately captures such minute locomotion changes . moreover, aging and proteotoxicity effects widely vary from animal to animal, requiring assaying large population cohorts. the novel mat system is particularly suitable to this end as it allows accurate tracking of animal locomotion in a high-throughput manner, and can therefore serve as a powerful system for extensive laborious screens of mutants or chemical and rnai libraries.

CONCLUSIONS
herein, we present a novel mat that provides accurate high-throughput analyses of complex behaviors. importantly, this user-friendly system is easy to operate and does not require prior programming skills. with a wide range of possible uses and the compatibility of studying various animal models, this mat will serve as an important system for elucidating novel principles underlying complex behaviors.

