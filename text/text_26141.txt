BACKGROUND
individuals in various animal species develop group specific behavioral habits through learning and cultural transmission  <cit> . in many cases such behavior is directly related to diet preferences and extractive foraging, and is thought to enhance survival and reproductive success  <cit> . in humans, cultural inheritance can also enable individuals to acquire complex skills and knowledge that would not be possible within the lifetime of a single individual  <cit> . such culturally defined phenotypes are known to have a considerable impact on the evolutionary process  <cit> .

here we use the term ‘cultural phenomena’ to refer to processes whereby behaviors are inherited across generations via social influences on learning. we focus on  traditions, which are group-specific behavioral patterns that remain stable over time, and  cumulative cultural change, which describes cultural change across generations that allows individuals to achieve phenotypes that they could not achieve within their lifetime through asocial learning. traditions have been identified in various animal species, including fish  <cit> , capuchin monkeys  <cit> , great apes  and cetaceans  <cit> . in contrast, cumulative cultural change is generally considered in the context of technical skills and is widely considered to be uniquely human  <cit> .

explanations for the prevalence of both these cultural phenomena across the animal kingdom have focused on social learning mechanisms and the cognition that these are assumed to entail. the term ‘social learning mechanism’  relates to the kinds of cues to which individuals pay attention when learning from conspecifics  <cit> . when considering inheritance of traditions, some researchers have emphasized that cognitively demanding forms of social learning would be required to maintain the fidelity and adaptedness of traditions . moreover, it is generally accepted that the key to generating cumulative cultural change is transmission fidelity of learned skills, and the cognitively demanding forms of social learning on which the latter is thought to rely  <cit> .

in contrast, results from multi-scale simulation models suggest that simple slms, like local and stimulus enhancement, are sufficient for generating traditional differences between groups and cumulative cultural change of diet repertoires in the context of learning what to eat . this result extends the concept of cumulative culture to ‘non-technical’ learning contexts, although it should be noted that the cumulative cultural change found in the models  <cit>  can be characterized as bounded, in the sense that it is restricted to a fixed set of existing opportunities in the environment. this contrasts with the apparent open-ended cumulative cultural processes mentioned above, often with increases in behavioral complexity, a characteristic of humans, and implies that researchers should distinguish between different kinds of cumulative cultural process. in any case, the simulation results generate the hypothesis that special cognitively sophisticated forms of slm are not necessary for generating traditional differences and cumulative cultural change.

in the present study, we investigate whether this hypothesis also holds in the context of skill learning, the more intuitive context in which to consider cumulative cultural change. it may be fairly straightforward to generate cultural phenomena in relatively simple learning contexts, such as diet learning, since high fidelity copying only concerns what kind of resource is interacted with. for skill learning, high fidelity copying would involve both what resource is interacted with and how it is interacted with. whether simple slms suffice to generate cultural phenomena in this context is therefore uncertain.

to evaluate whether different slms can support traditional differences between groups and cumulative cultural change in the context of skill learning, we study group foragers that learn what to eat and develop skills in order to process resources, and in the process consider three slms. local enhancement , where an animal is more likely to interact with, and learn about, objects at a particular location following observation of other animals at that location  <cit> , is implemented as arising as a byproduct of grouping  <cit> . following van der post et al.  <cit> , stimulus enhancement  is implemented as an increased probability to choose a given resource type having observed another forager eating that resource type, an implementation that closely follows its definition  <cit> . finally, observational learning , which is a general term that represents a number of slms, including imitation and emulation  <cit> , following franz and matthews  <cit> , is implemented as a gain in skill that is proportional to the difference in skill between an observer and a demonstrator. of these three slms, only ol affects skill learning directly. se and le could in principle lead to increases in skill level, but only indirectly. such indirect increases in skill levels could occur if le or se lead to reduced repertoire diversity and enable foragers to spend their limited skill development time on fewer resources  <cit> .

while we test a hypothesis generated by previous theory, our study is not simply an extension of previous models. here we directly contrast multiple slms in a relatively complex model with a large parameter space. to facilitate the exploration of parameter space, we use evolved parameter values for behavioural and learning parameters based on van der post et al.  <cit> . in this way parameters are optimized relative to foraging success, and the different slms are compared using parameters that derive from this standardized criterion. the earlier models did not use evolved parameters.

in order to include evolved parameters in our model, we included the relatively natural assumptions of dynamic group sizes and stochastic birth-death processes in populations with multiple groups  <cit> , as opposed to the fixed group sizes and regularized birth-death processes in simulations with only one or two groups as assumed in earlier models . however, since we change the learning context and population level assumptions, and now include evolved parameters, we will be unable to pinpoint the exact cause of any differences in the results we find relative to earlier models. nevertheless, despite these limitations, our approach is particularly suitable to assess whether simple slms are sufficient to generate traditions and cumulative cultural change in the context of skill learning.

drawing on previous work  <cit> , we focus on cohesive grouping and environments with patchy resources where each patch has multiple resource types. this provides an empirically relevant context for primates and other social learning species, and is the context in which le was found to generate both cultural phenomena  <cit> . in addition, previous work has established that protracted learning  is a prerequisite for both traditions and cumulative culture  <cit> . if learning is protracted it becomes susceptible to stochastic variation in sampling frequencies, leading to arbitrary differences in the evaluation of, and preferences for, different resource types. this generates a positive feedback where more familiar resources are more favourably evaluated and hence more often chosen  <cit> . as a result, in diverse environments, learning can lead to idiosyncratic sub-optimal behavioral repertoires . social learning through le and se causes behavioral repertoires and familiarity biases to be shared amongst group members, thereby leading to the emergence of traditions . here, in the context of skill learning, we vary the protractedness of skill learning by varying the ‘task difficulty’ of resources in the environment.

based on the above mentioned theory we address the following questions:  do all the slms tested generate traditional differences?  do all the slms tested generate cumulative cultural change?  does task difficulty enhance cultural phenomena? here we expect the magnitude of traditional differences to increase with greater task difficulty when learning is more protracted, and that cumulative cultural change will occur when within-lifetime optimization is increasingly limited, which should occur with greater task difficulty;  do se and ol enhance traditional differences and cumulative culture? compared to le, we expect that traditional differences will be enhanced by se, because se enhances within-group similarity  <cit> , and predict that ol will have the same effect. we also expect se to enhance the cumulative cultural process  <cit> , and in particular, ol, which leads to direct increases in skill levels, is expected to generate cumulative cultural change of large magnitude;  do cumulative cultural increases in skill level and repertoire quality contribute to energy intake? next to increases in repertoire quality  <cit>  we expect increases in skill to contribute to cumulative cultural increases in energy intake. while only ol affects skill learning directly, se and le could in principle lead to increases in skill level indirectly. this can happen if le or se lead to reduced repertoire diversity and enable foragers to spend their limited skill development time on fewer resources  <cit> .

methods
our model is an event-based, individual-based model with a spatially-explicit environment and is freely available at https://bitbucket.org/dvanderpost/aapjes_bmc_eb_2016_b. the key design feature of the model is that we define behavioral decision making and the outcome of behavioral events, including learning, at a local spatio-temporal scale. we then study the meso- and macro-scale consequences of that local behavior to establish the mapping between different mechanisms at a local scale and information processing and payoffs at a larger scale. while the model is formulated ‘keeping primates in mind’, and a large number of parameter values are based on estimates of natural primate systems, we expect our conclusions to generalize to other animal taxa, particularly those with similar movement patterns and repertoire sizes. the model is based on previous models of learning in group foragers  <cit> , but now includes skill learning, dynamic populations and group sizes, and evolving parameters. increments in skill arise through asocial learning or through observational learning .

the following model description is limited to those aspects needed to gain a reasonable understanding of the results, with key parameters listed in table  <dig>  for further details see section  <dig> in additional file  <dig> 

r

q
r

h
r

s
r

ec

n

g

k

m

a
ir

a
ie

e
ir

c
ir

s
ir

t
ir

λ
i

ε
i

γ
i

ω
i

τ
i

ϕ
i
ie

δ
i
upper case letters and names: invariant parameters that do not change during simulations. lower case letters:  variables that change during a forager’s lifetime. greek letters: parameters that can evolve but are invariant during a forager’s lifetime. subscripts: i= forager identity; r= resource type




model overview
we first give a short overview of the model, followed by further details.


entities: the model is composed of groups of foragers and patches made up of resource items, which are situated in continuous space .
fig.  <dig> model details. a simulation snapshot. each forager is indicated by a search area , reach  and a movement trajectory . when a foragers observes another forager the foragers are connected by an olive-green line. for illustration purposes, the resource items are shown as colored circles, and patches by a larger gray circles. each patch can be assumed to be a distinct patch type, with unique resource types . b illustration of decision-making algorithm. rectangles are actions and ellipses are decision-making points. after completing one of the actions at the right hand side, all foragers start the decision-making process at the top left . rand is a random number between  <dig> and  <dig>  and ω
i is the probability to do observe. movetofood is always followed by eat. move consists of at many  <dig> meter steps to complete a distance of δ
i. c illustration of how rewards e
ir change with time spent practicing that skill for different resource types : resources for which not much practice is needed  and those for which a lot of practice is need ; and resources for which rewards increase fast immediately  and those for which they increase slowly initially . d illustration of how selectivity  affects which subset of resources are chosen: overall resource quality distribution given by n  and subsets chosen when selectivity is low  and high , given σ
i= <dig> and assuming the forager knows all resources perfectly





additional file 2: video showing group foragers with only local enhancement. each forager is indicated by a search area , reach  and a movement trajectory . for illustration purposes, the resource items are shown as colored circles, and patches by a larger gray circles. each patch can be assumed to be a distinct patch type, with unique resource types . 





state variables: resources items are defined by a position, and a type which is characterized by quality q
r, and two parameters defining how difficult the resource type is to process , or ‘task difficulty’. h
r defines the practice time  needed to develop half of the maximal skill for that resource type, and s
r defines the shape of the function of how skill increases with experience . patches are emergent from clumps of resource items in space, and have a type defined by a set of  <dig> resource types that only occur in patches of that type. foragers are defined by a position and heading, a current action and a time to its completion, short-term memory about movement and foraging goals, and long-term memory about the rewards associated with resources and resource processing skill. foragers can differ in their information about resources and skill levels, as well as in their propensity for learning as defined by parameters that can mutate .


processes and scheduling: the implemented processes in our model are:  local decision making and movement of foragers;  learning;  life-history updating and demographics; and  environmental updating.

local decision making is governed by a decision-making algorithm which encodes sensing, decision making, movement, grouping and the updating of short-term memory. in simulations with grouping, foragers belong to a particular group, and follow behavior rules that ensure that groups move cohesively through the environment. all foragers are placed in a queue according to the time their action ends. the forager with the least time remaining is next to choose an action and is put back in the queue according to the time its new action ends. in this event-based setup, actions of foragers can overlap in time, and some foragers can complete multiple quick actions  while others are engaged in actions that take more time .

the learning algorithms include representations of individual and social learning, and update long term memory about properties of resources that foragers interact with as a consequence of their decisions.

life-history updating occurs at regular time intervals and includes:  metabolism or energy expenditure;  digestion of consumed resources;  deaths and  births of foragers; and  splitting of groups. after a forager dies, a forager is selected from the remaining population to reproduce, thus maintaining a fixed population size. foragers are selected to reproduce in relation to their energy levels, where a doubling in energy leads to an 8-fold increase in the probability to reproduce. offspring inherit the parameter values of their parents with a chance of mutation . in simulations with grouping, groups grow due to births until they reach a maximum size, and then split randomly into two equally sized daughter groups. groups shrink due to deaths and disappear when the last group member dies.

environmental updating occurs at regular intervals and involves the ‘growth’ of all resource items at the beginning of each year and ‘environmental change’ that changes an existing resource types into an unknown  new resource type. ‘resource consumption’ occurs when foragers consume resources as determined by ‘local decision making’.


spatio-temporal scaling: the environment is a continuous space of about  <dig> km  <dig>  foragers take steps of a meter at a speed of  <dig>  m/s, and patches are  <dig> meters in diameter . foragers can observe resources up to  <dig> meters away, and can observe which resources their neighbors are interacting with at  <dig> meters . there are no constraints on observing group members for grouping purposes in order to ensure cohesive groups, but the spread of groups tends to be in the order of 5– <dig> meters. all movement occurs in continuous space and there are no constraints on direction.


additional file 3: video showing group foragers observing each other, which relevant for both stimulus enhancement and observational learning. each forager is indicated by a search area , reach  and a movement trajectory . when a forager observes another forager the foragers are connected by an olive-green line. for illustration purposes, the resource items are shown as colored circles, and patches by a larger gray circles. each patch can be assumed to be a distinct patch type, with unique resource types . 




the timescale is defined in terms of the foragers’ behavioral actions that vary in duration from about a few seconds to a minute. in the model a year is defined as  <dig> days, and a day is  <dig> hours or  <dig> minutes, where we focus on daylight time in a day. thus foragers can complete many hundreds of behavioral actions in a day and learn from them. energy expenditure  occurs every minute. digestion occurs every  <dig> minutes . foragers can live maximally for  <dig> years, but can die before that at any minute.

resources
in our default setting, resource items of  <dig> resource types are distributed in  <dig> patches with  <dig> items each. there are  <dig> patch types, and a patch type is characterized by the presence of five resources types that only occur in that patch type . in order to generate variation across patches of a given type, each patch of a given type is defined by three resource types which are randomly selected from the five resource types that characterize that patch type. while these parameter values typically underestimate the diversity of natural environments, we strike a pragmatic balance between model complexity and simulation environments that are too simple, and where learning hardly plays a role  <cit> . we compare this ecological context with randomly distributed resources without patches, and pure patches where each patch type has only one resource type.

resource items disappear when consumed by foragers, and are then unavailable for consumption. resource ‘growth’ happens once a year, when all resource items that have been consumed by foragers reappear in the exact same position  and with the same type. environmental change occurs randomly at any minute with a given probability and changes a randomly selected resource type into another newly generated resource type which is unfamiliar to the foragers. for ease of interpretation we express this as a rate, namely how many resource types change per year . all resource items of the disappearing type change into the new resource type. we vary environmental change ec across simulations to determine the effect of environmental change. we compare this kind of environmental change to one where resources do not disappear and change into new ones, but where resources remain familiar but change in quality.

the quality of a resource type q
r is drawn from a random distribution with mean  <dig>  and standard deviation of  <dig>  , and all items of a given resource type have the same quality. thus we generate variation in quality across resource types which enables the learning process to be studied as an optimization process. quality defines the maximal reward that a forager can obtain from a resource type when it has sufficient experience with processing that resource type. task difficulty is defined by h
r, the practice time  needed to obtain half of the maximal reward of that resource type, and s
r, which defines how the reward increases with experience . s
r varies randomly between  <dig> and  <dig>  and h
r is varied across simulations to determine an overall difficulty of learning in the environment.

local decision making
foragers can choose between several local actions, namely, move, search, movetofood, eat, movetogroup, observe and nothing, which are selected according to a decision-making algorithm . in the algorithm, individuals start by checking if they are safe , which implies having a sufficient number of neighbors  in safespace . during checksafe, foragers can also observe group members within copyspace , and can monitor the resources with which those neighbors interact . these observations are relevant for stimulus enhancement  and observational learning .

if not safe, foragers do movetogroup, which means that a forager moves towards the center of its group, calculated as the mean position of the other members of its group . once safe, the forager then aligns its own heading with the average direction of other members of its group in alignspace . this attraction-alignment algorithm ensures that foragers stay together but travel in a relatively efficient manner through the environment.

if safe, foragers do observe  with probability ω
i, which leads to observational learning . otherwise, with probability 1−ω
i, foragers will select one of the remaining actions. if foragers are not hungry , foragers will do nothing . stomach contents are reset to zero at digestiontime.

if hungry, and if they have already selected a resource item for consumption , foragers will eat , or movetofood if the item is beyond reach  and eat once the item is within reach . if foragers do not yet have a foodtarget but their last action was search, this means they did not find any resource items in view sufficiently attractive and then they will move forward δ
i meters in the direction the foragers are facing . if they did not yet search, they will search . during search up to  <dig> resource items in view  are assessed in sequence . the  <dig> items are randomly selected from those in view. the search terminates as soon as an item is chosen for consumption, or when none of the items is chosen.

food choice algorithm
during search, a forager’s decision to eat a given resource item is determined by its  exploration tendency p
e ,  personal information about the rewards associated with that resource type , and  whether the forager has been socially stimulated by seeing another forager eat that resource type p
s . during evaluation of a resource item, these three factors come together to determine the probability p
f to choose to eat that item as follows: 
  <dig> pf=p=min <dig> ,airaieσi+pe+ps 


where a
ir is the reward forager i expects from resource type r , a
ie is an assessment of the quality of resources that can be found in the environment , and σ
i scales selectivity, i.e. how likely an individual selects when the expected reward a
ir<a
ie . since associations are initially zero , unknown resource types can only be sampled via exploration  or social stimulation . for solitary foragers this means that the exploration rate p
e must be greater than zero. for grouping foragers, social stimulation p
s could in principle replace exploration p
e as the means to sample unknown resources. once expected rewards a
ir> <dig>  airaieσi contributes to the probability of choosing a certain resource type, which is maximal when a
ir>a
ie and less than one if a
ir<a
ie. if a
ir>a
ie, the forager is certain to choose the resource item, irrespective of p
e and p
s. the impact of p
e and p
s is therefore greatest when resource are relatively unfamiliar .

selectivity is adjusted relative to environmental conditions by adjusting the expected quality of the environment a
ie . when a forager’s stomach is not full at digestiontime, the forager decreases its environmental expectation: a
ie′=a
ie; otherwise the expectation is increased: a
ie′=a
ie, where ϕ
i determines the rate with which the expected quality of the environment a
ie is changed. each time the forager is too selective, it does not fill its stomach and reduces its selectivity, and vice versa. as a result, a
ie is tuned in order to optimise energy intake, within the constraints of the algorithm. qualitatively, this selection algorithm can give rise to the optimal food choice rule  <cit>  where only resources above a certain perceived quality are eaten and all others are ignored . note however that our algorithm works on perceived quality and not actual quality since the foragers are learning about resource quality and are not omniscient. moreover, we let selectivity parameter σ
i evolve, so that while the zero-one rule is possible, it need not evolve and we don’t restrict the selection algorithm in this sense.


satiation aversion: foragers develop temporary aversions after becoming satiated  with a given resource type. satiation aversion causes foragers to completely ignore that resource type for one digestion cycle  after which the aversion disappears. satiation is common in foragers like primates that consume many secondary ‘toxic’ compounds  <cit> , and/or require a balanced diet  <cit> . this model specification was added to ensure that foragers consume a diverse set of resource types  <cit> , as is typical for primates and as was assumed in previous models  <cit> .

learning
in the absence of any social influences on learning, learning in our model is composed of  exploration,  skill learning, and  reinforcement learning about rewards associated with resources. all foragers start life without any knowledge about resources, and so do not have any expectation about energy rewards  nor any resource processing skill. to enable foragers to sample  unfamiliar resource types, and hence to start learning, we implemented exploration. after processing resource items, foragers develop skill, which increases the rewards they can obtain from resources items of that type. after consuming resource items, foragers develop expectations about rewards via reinforcement, and can use those to decide what to eat. note that for simplicity we do not include ‘forgetting’, and acquired skills and reward estimates are maintained indefinitely. we do not expect this to affect the results qualitatively.


exploration: the probability that a forager explores an item of resource type r is: 
  <dig> pe=p=εi 



ε
i is the exploration rate, and c
ir is the certainty with which forager i assesses the reward of resource type r. certainty was included to ensure that foragers do not continue exploring when already highly familiar with resources. for completely unfamiliar resources c
ir= <dig> and there is no certainty. however, when rewards from resource types no longer change, for instance because skill levels are high, certainty becomes high, and foragers end up with a low tendency to explore that resource type. certainty c
ir is updated as follows: 
  <dig> cir′=cir+λi1−min <dig> ,eir−aireir 


where e
ir is the reward forager i obtains from resource r, and the same learning rate  and discrepancy between actual and expected rewards  are used as during updating of expected rewards .


skill learning: a forager i’s skill s
ir for processing a specific resource r is a function of experience t
ir and ‘task difficulty’: 
  <dig> sir=tirsrhrsr+tirsr 


which is  <dig> when experience t
ir= <dig> and tends to  <dig> when t
ir becomes very large. experience t
ir is the total time a forager i has spent processing a resource type r in its life, and increases each time the forager processes and consumes a resource item of type r.

skill s
ir determines the reward e
ir forager i obtains from resource type r as a function of resource quality q
r: 
  <dig> eir=qrsir+n 


where n represents environmental noise, where a value is drawn from a normal distribution with mean  <dig> and a standard deviation of z . resource types with high h  take longer to learn, while resource types with high s have a shallow increment in rewards during initial learning . note that for simplicity we assume that while for different foragers the same resource items can provide different energy, depletion from the environment and the number of items that can be eaten is the same. this can be interpreted as foragers consuming a certain amount of resource in a given amount of time irrespective of how well it is processed, but that energy obtained depends on processing. moreover the item is then no longer available for other foragers.


reinforcement learning about expected rewards: the rewards that foragers associate with each resource type r are updated via reinforcement as follows: 
  <dig> air′=air+λi 


where association a
ir is the reward that forager i associates with resource type r, e
ir is the energy obtained from resource type r, and λ
i is the learning rate. this corresponds to a rescorla-wagner model  <cit>  where all stimuli have the same salience. associations are initially non-existent , and the reward is obtained immediately after consumption of the resource leading to direct reinforcement.

social influences on learning

local enhancement : arises spontaneously through grouping behaviour, since individuals are inclined to approach locations in which other members of their group are found, and thereafter to interact with resources in those regions. we therefore do not directly implement local enhancement, but it emerges spontaneously as soon as foragers move in groups  <cit> . the local enhancement that we consider is coarse grained, and does not direct individuals to particular resources, or to features of those resources.

for the two other social learning mechanisms, during checksafe a random ‘demonstrator’ is selected from any neighbors in copyspace  that are processing and consuming a resource. the impact of the demonstrator depends on the social learning mechanism.


stimulus enhancement : in addition to selecting resources according to their expected reward and the tendency to explore a given resource type asocially, se increases a forager’s probability to consume resource type r by: 
  <dig> ps=p=dγi 


where γ
i indicates the strength of se, and d= <dig> if forager i observed a neighbor consuming resource r within the last  <dig> minutes and otherwise d= <dig>  only one resource type r is subject to se at a time. se does not directly affect expected rewards or skill.


observational learning : occurs during the action observe at rate ω
i  and allows forager i to increase its processing skill for a specific resource type, in proportion to the time spent observing, where the change in experience Δ
t
ir is: 
  <dig> Δtir=maxkoikm, <dig>  


where k scales the increase, determining how effective skill copying is, and o
ik is the effective time forager i observes neighbor k: o
ik=m
i
n[τ
i,p
k], where τ
i is the maximum time forager i decides to spend observing its neighbor, and p
k is the time left for neighbor k to complete its present action. greater observation time leads to greater skill acquisition, where maximal observation time is the maximal time it takes to process and consume a resource . the increase in the skill level is bound to the skill level of the observed individual, and there is no skill gain if the skill level of the observed individual is lower than, or equal to, the forager’s own skill level. a forager does not know in advance whether a ‘demonstrator’ is highly skilled or not. observation does not provide information about rewards.

energy budget, population turn-over and selection
the energy budget is determined by  energy gain due rewards from food intake which depends on learning at every digestiontime,  a per minute energy metabolism cost , and  an energy costs of  <dig> for a reproduction event, which represents a substantial part of total energy. energy accumulates if energy intake from food exceeds metabolism and reproduction costs. a limited stomach capacity and digestion intervals were added to the model to ensure selective foraging, as is typical for primates and as was assumed in previous models  <cit> . in addition, an explicit metabolism cost, ensures that there is a viability constraint in the model, where foragers must gain enough energy from food otherwise they die.

foragers die of old age , stochastically determined deaths, or starvation. births occur as a function of energy reserves each time a forager dies, keeping the population constant at size n , where probability that forager i reproduces is: 
  <dig> pr=p=hiw∑j=1nhjw 


where h
i is an individuals energy level, n is the population size, and w  scales the strength of the selection function.

the learning and foraging parameters δ
i, ϕ
i, σ
i, ε
i, λ
i, γ
i, ω
i, τ
i, are specific to forager i. parameter combinations that lead to greater energy levels lead to faster rates of reproduction. an offspring inherits its parent’s parameters, with a chance of mutation . in case of mutation, a new parameter value is drawn from a normal distribution centered on the parent’s parameter value, and with a standard deviation that is one fifth of the maximum value of the parameter . thus parameters can vary between individuals and can evolve over time via inheritance to offspring, mutation and natural selection. the mutation rate was selected operationally such that parameters evolve consistently within a reasonable time frame.

foragers are born in their parent’s group. there is no migration between groups. the population is inviable if the average energy level does not rise above the minimum energy needed to give birth.

emergent dynamics
since we only define local sensing and behavioral actions of foragers, the development of a forager’s repertoire emerges from its interaction with the environment over time. this environment includes the resources and their distribution, which affects the temporal autocorrelations in encounters with resources. the movement of foragers is characterized by inter-patch travel where no resource items are found, and intra-patch search, assessment and consumption of resource items. within each patch, a forager has access to the resource types that are present in that patch. over their lifetime, foragers encounter all patch types and all the resource types they contain, many times, thus there is ample opportunity to consume all resource types repeatedly. on reaching a patch, a forager’s experience with those resource types will depend on previous encounters with those resource types, and if it consumed those resources in the previous digestion cycle it could be satiated with respect to those resource types.

the dynamics of foraging are characterized by learning and food choice  <cit> . foragers move through the environment and when they encounter resource items, the food choice algorithm determines whether any are consumed . foragers start out exploring various unknown resources , and as they gain experience about rewards, personal information tends to become more dominant in their food choices. personal experience is updated after consumption events and includes a
ir, the assessment of rewards  and the increment of skill  which in turn increases the reward obtained . due to consumption of many resources, the expectation of the environment a
ie will increase, increasing the fraction of resources for which a
ie is greater than an expected reward a
ir. this increases selectivity towards resources with high expected reward a
ir, and can lead to reduced food intake . at this point the expectation of the environment a
ie decreases again.

thus the forager’s expectation of the environment a
ie tends to equilibrate on a value in relation to values of a
ir, such that the intake of resource items is close to the maximum of  <dig>  this ensures that the forager is eating selectively but still eating close to the maximal number of resource items within each digestion cycle . the ratio of a
ir to a
ie is therefore similar across simulation types, irrespective of how fast a
ir increases due to differences in skill development time.

the combination of  food choice biased to resource types with high expected reward a
ir , and  learning via updating of a
ir and experience t
ir, generates a positive feedback. this positive feedback generates a familiarity bias and a development process that is contingent on stochastic initial conditions, leading to idiosyncratic learning histories and somewhat arbitrary variation between foragers in their knowledge of the environment. therefore, while learning is biased towards high quality resources, due to an intrinsic familiarity bias in the process, learning could get ‘stuck’ on a self-stabilizing repertoire as soon as this repertoire fulfills the intake needs of the forager  <cit> . previous work has shown that this familiarity bias becomes strong in environments with pure patches, and when foragers do not become satiated after eating a lot of a given food type  <cit> . we therefore focus on patches with several resources and satiation as a default case, so that the familiarity bias is not unreasonably strong such that foragers only end up consuming a few resource types.

the familiarity bias implies that foragers have greater experience t
ir for some resources than others, and also a more accurate assessment a
ir of rewards e
ir. since learning rate λ
i typically evolves to high values  <cit> , an expected reward a
ir is generally an accurate estimate of the actual reward e
ir. the main cause for differences in familiarity is therefore differences in processing experience t
ir and these determine differences between reward e
ir and expected reward a
ir. as a result, the impact of social influences on learning therefore concern  biases on choosing resource types, which indirectly affect experience t
ir in the case of le and se, and  direct gains in experience t
ir in the case of ol.

in groups, the actions of neighbors and group-level dynamics can have indirect and direct influences on food choices and learning  <cit> . due to the need to stay in a group , there is a strong ‘consensus’ or ‘conformity’ effect, where the decision of neighbors to stop or not stop in a patch can affect the feeding opportunities of foragers and hence their learning trajectories. this social influence on learning due to grouping, which we refer to as le, is an emergent process in our model. this process occurs in patchy environments, because grouping causes foragers to share the same foraging opportunities at the same time. as a result, foragers in groups share learning histories and develop similar behavioral repertoires  <cit> . moreover, the direct observation of neighbors and its effects, depends on what neighbors have decided to eat, or depends on copying opportunities  <cit> . in turn, the effect of a social stimulus will depend on what an observer already knows, and whether it can find the resource type of interest. if a forager would already choose a resource item on its own accord  then the social stimulus p
s would not matter and the social influence would be redundant. moreover, p
s can increase the rate of food intake and feedback on selectivity via the updating of the expectation of the environment a
ie.

when naive foragers are introduced due to population turnover, and these follow the group, they end up spending time in patches that are already preferred by experienced foragers. as a result, their development is biased towards resources that the group already consumes. since familiarity and preference are self-reinforcing  the young foragers could end up developing the same preference biases and so can end up inheriting their group’s behavioral repertoire  <cit> . if behavioral repertoires are unique to a given group and persist across generations, then this can be seen as traditional differences between groups or cultural variation.

in addition to developing more or less the same behavioral repertoire as their group, young foragers could also become more selective than older foragers, resulting in their rejection of the lower quality resources in the group repertoire  <cit> . this is possible because young foragers experience a different ‘frame of reference’ with respect to their repertoire development than older ones have, where young foragers can select a subset within the repertoire of their group. in addition, young foragers could add resource types to their repertoire that are novel for the group since initially they do not have a familiarity bias. however, these resource types will only be selected if they are considered to be sufficiently rewarding relative to others in the repertoire. hence this process tends to lead to the inclusion of relatively high quality novel resource types. in sum, both the rejection of low quality resource types and the inclusion of high quality ones, can generate a process whereby the repertoire quality in the group improves over generations beyond the lifespan of a single forager. this can be seen as a cumulative cultural process  <cit> . note that this process will mainly occur in the early stages when a group explores a new environment. after a while the cumulative process levels off, and new generations no longer become more selective than previous generations.

simulations and analysis
in a previous study we used the same model to establish the evolutionary attractors in different environmental conditions, and determine the payoffs and information production associated with different social learning mechanisms  <cit> . these parameters define foraging and different  learning mechanisms in the foragers. the evolved learning parameters are exploration , stimulus enhancement  and observational learning . the evolved foraging parameters  ensure that the foraging and reinforcement learning parameters are not arbitrarily defined, but have co-evolved with the main parameters of interest. here we studied whether and how these evolved parameters lead to traditional differences between groups  and cumulative cultural change in energy intake.

in our analysis we focused on questions that arose from expectations based on previous research . to address these questions we used non-evolutionary simulations initialized with evolved parameters to measure diet repertoire statistics in more detail. to study the effect of protracted learning, we varied the task difficulty of resources .

we consider traditions to be between-group differences that are inherited over time due to social learning. to quantify to which extent between-group differences are inherited we combined  a measure of within-group repertoire similarity across time, and  a measure of between-group differences in repertoires at a given point in time. within-group similarity across time on its own is insufficient for identifying inheritance, since next to social learning, within-group similarity can also be generated if all individuals converge on feeding on the same high quality resources due to repertoire optimization. thus we needed to establish that the group-level repertoires that were maintained over time were distinct from those of other groups, hence ruling out population-level convergence due to factors such as repertoire optimization.

to do so we calculated the difference between within-group similarity over time and between-group similarity at one specific point in time  <cit> . we calculated within-group similarity over time as the overlap in repertoires at year  <dig> and  <dig>  this  <dig> year period ensured there is no overlap in foragers at the two time points. for between-group similarity we calculated overlap between a group and other groups in an independent simulation with the exact same environment. in this way we controlled for relatedness between groups, and competition between groups, which increase and decrease between-group similarity respectively. we calculated average repertoire similarity between groups k and l as: 
  <dig> Ōk,l=1gkgl∑i=1i=gk∑j=1;j!=ij=gldi→∙dj→|di→|.|dj→| 


where di→ is the vector of number of items eaten per resource type  of forager i, di→∙dj→ is the dot product of the behavioral repertoires of foragers i, j, |di→|= is the length of vector di→, r is the number of resources types, and g
k is the number of foragers in group k. this function returns a value of  <dig> if the group-level repertoire is identical in both groups , and it returns a value of  <dig> if there is no overlap in repertoires .

for cumulative cultural change we focused on energy intake over time. we used a conservative approach to focus on whether cultural processes enable phenotypes that are beyond what foragers can achieve within a single lifetime. we therefore considered the difference between  year  <dig>  which represents the maximum that individuals can achieve within their lifetime, and  year  <dig>  the end of our simulation by which time the cumulative process had levelled off. the change was expressed as a proportion of the measure at year  <dig>  where total energy intake is calculated as follows:  total energy intake =∑r=1r=rdireir, where d
ir is the total number of items of resource type r that were consumed by forager i, and e
ir is the per item reward obtained. we repeated this analysis on other repertoire measures in order to analyze whether skill, repertoire quality and repertoire diversity also change cumulatively:  repertoire quality =∑r=1r=rzirqr;  repertoire diversity =∑r=1r=r−zirlogzir;  average skill =∑r=1r=rzirsir, where z
ir is the proportion of resource r in individual i’s diet, q
r is the quality of resource type r, and s
ir is the skill forager i has for resource type r. note that for repertoire diversity we only considered resource types that had been consumed . in contrast to measuring traditional differences, we used different random seeds for the environment in each simulation so as to not repeat the exact same pattern of environmental change.

as a default we considered patchy environments with multiple resource types in each patch  and with a low but reasonable rate of environmental change  <cit> : a random  <dig> resource types per year were replaced with a new kind of resource type with a randomly assigned resource quality q
r. we did not vary parameters that defined life-history characteristics and spatio-temporal scaling as this is beyond the scope of study. in sum, while the analysis contained a large number of parameters, the vast majority of these provide a realistic simulation context, and the parameter space for the remaining few was explored within realistic bounds  <cit> .

RESULTS
do all the slms tested generate traditional differences?
we find that all slms can generate traditional differences under a wide range of environmental conditions. in fig. 2
a we show average levels of traditional differences between groups. we show statistically significant increases in traditional differences using solid symbols . statistically significant traditional differences are generated for all h conditions, but are non-negligible for h> <dig>  . at h= <dig>  we do obtain statistically significant results since the distribution is skewed to be above zero, but the magnitude of traditional differences is very small.
fig.  <dig> traditional differences a and cumulative cultural increase in energy intake b as a function of slms and task difficulty  for ec= <dig>  blue = le, orange = se, and red = ol. solid symbols represent those cases where we find a statistically significant increase in energy intake . le and se are inviable at h <dig> and are excluded. each data point is the mean of  <dig> simulations, and whiskers show standard deviation. the calculation of traditional differences and cumulative cultural change is explained in the ’simulations and analysis’ section




do all the slms tested generate cumulative cultural change?
in contrast to traditional differences, cumulative cultural change is restricted to ol for a narrow range of environmental conditions. in fig. 2
b we show average levels of cumulative cultural increases in energy intake. statistically significant cumulative cultural change is only generated for ol and only for h= <dig> . note that foragers in groups with le or se are not viable at h= <dig>  <cit>  and are excluded.

does task difficulty enhance cultural phenomena?
our results confirm that learning needs to be sufficiently protracted to generate traditions and cumulative cultural change. in fig.  <dig> we can observe that task difficulty must be sufficiently high, . at h= <dig>  learning is very easy and all foragers are effectively all knowing and all the groups are the same and there are no traditional differences. once learning is sufficiently difficult  traditional differences can arise. however, the specific effects of different task difficulties varies between traditions and cumulative cultural increase, where the latter requires very high task difficulty before is detectable. moreover, increasing task difficulty beyond h= <dig> does not necessarily lead to greater traditional differences, and after h= <dig> traditional differences actually level off or even decline. this occurs due to population-wide convergence on resource types that are easy to learn which becomes increasingly pronounced as task difficulty increases .

do se and ol enhance traditional differences and cumulative culture?
in contrast to our expectation, we did not observe that se and ol enhance traditional differences compared to le . in fact the greatest traditional differences are found for le. we also do not find that le or se generate cumulative cultural change .

the reason that between-group differences are greatest for le is that repertoire optimization is lowest for le . in se and especially ol, greater repertoire optimization  <cit>  leads to convergence in repertoires between groups, diminishing between-group differences. for between-group differences, we find nearly the exact same pattern as for traditional differences . for within-group similarity over time, we find that similarity is high overall , but lowest for le , and greatest for ol . given that we calculate traditional differences based on  between-group differences  and  within-group similarity across time, between-group differences are the main determinant of traditional differences in our results. thus, even though le exhibits the lowest within-group similarity, due to large between group differences, le exhibits the greatest traditional differences.
fig.  <dig> between-group differences  , within-group similarity over time , repertoire quality c for different task difficulty , and different kinds of cumulative process for ol at h= <dig> . for a–c: blue = le, orange = se, and red = ol. le and se are inviable at h <dig> and are excluded. each data point is the mean of  <dig> simulations, and whiskers show standard deviation. for d: boxplots show minimum, 1st quartile, median, 3rd quartile, and maximum, where data comes from  <dig> simulations. the calculation of repertoire statistics and cumulative cultural change is explained in the ’simulations and analysis’ section




do cumulative cultural increases in skill level and repertoire quality contribute to energy intake?
as expected, we find that when ol generates a cumulative cultural increase in energy levels, this is accompanied by a cumulative cultural increase in skill level . in fig. 3
d we can observe that ol at h= <dig> leads to a large increase in skill level. we find that next to increases in skill, ol at h= <dig> also leads to cumulative cultural increases in repertoire quality . thus the increases in energy intake result from both increases in skill level and repertoire quality.

in previous research we found that decreases in repertoire diversity could lead to increases in skill level, because a narrower repertoire enables greater skill development per resource type  <cit> . in fig. 3
d we show that there is no decline in per capita repertoire diversity as skill levels increase . this indicates that the increase in skill levels occurs via direct effects, where ol enables foragers to shortcut the developmental process by using the experience of other foragers. as a result they can achieve even greater levels of skill than the previous generations. moreover, given that there is no decrease in per capita repertoire diversity , the increase in repertoire quality implies a replacement, or even addition of high quality resources to the repertoire. we therefore see an increase in skill levels while repertoire diversity is maintained, which means that the overall level and quality of knowledge increases.

discussion and 
CONCLUSIONS
our results inform the debate over the cognitive requirements of culture. the findings are consistent with the idea that cognitively demanding slms are necessary for the generation of cumulative cultural change, but imply that traditions can result from simple slms. le and se can generate traditional differences between groups even though these basic slms do not affect skill learning directly. our results support the idea that animal cultures will be widespread, but cumulative cultural change might be rare.

overall our results support previous theory in the context of ‘learning what to eat’  <cit>  that predicts le can suffice to generate traditional differences between groups in patchy environments. here we demonstrate that this result also holds in the context of skill learning with variable group sizes, stochastic demographics and evolving parameters. these findings lend support to the idea that traditional differences between groups, even with respect to skill learning, do not rely on cognitively demanding forms of social learning  <cit> .

in contrast to previous ‘diet learning’ simulation results  <cit>  we found that le and se are not sufficient for generating cumulative cultural increases in energy intake. instead, cumulative cultural change is limited to environments with very high task difficulty  and when foragers are capable of ol. thus it is possible that previous results  <cit>  are not robust to the change in learning context, and/or to one of the other assumptions that we changed in our model: stochastic population dynamics with variable group sizes, evolved parameters and environmental change. this will have to be determined by further model studies that revisit the ’diet learning’ context and investigate whether stochastic population dynamics with variable group sizes, evolved parameters and environmental change alter the previously found results. for now, we conclude that finding cumulative cultural increases in energy intake is likely to be context dependent. in particular, our results here support the idea that cumulative cultural change is promoted by cognitively demanding forms of social learning  <cit> .

in support of previous findings, we find that protracted learning is important for both cultural phenomena  <cit> . on the one hand, protracted learning tends to limit the optimization of repertoires allowing for arbitrary variation between groups and hence traditional differences. on the other hand, the within-lifetime limitation of optimization of repertoires make cumulative cultural processes possible. in previous work we also found that protracted learning is important for the costs and benefits associated with particular slms  <cit> . thus multi-scale models with protracted learning allow us to study the adaptive and cultural impact of particular slms rather than assume them. in this way multi-scale models can be used to evaluate the assumptions we make about social learning in various top-down verbal and formal models.

implications for the evolution of animal culture
previously we found that le did not increase energy intake relative to solitary foraging  <cit> , and concluded that grouping would probably evolve for other reasons, for example as an anti-predation strategy  <cit> . if so, then our model here, like a previous model  <cit> , predicts that traditional differences would evolve as a side-effect of grouping without any special cognitive adaptation besides those needed for living in groups.

relative to this baseline of traditional differences as an evolutionary byproduct, we showed in previous work that se and ol can readily evolve because they enhance the level of foraging efficiency  <cit> . here we show that the evolution of such increased optimization need not generate greater traditional differences between groups, but could instead reduce them . it is intuitive to assume that more accurate slms will increase within-group similarity  and hence increase differences between groups  <cit> . however, this overlooks the effect of slms on enhancing repertoire optimization  <cit> . if all groups are able to correctly identify and eat the highest quality resources then behavioral repertoires will become similar  <cit> , because the highest quality resources are always a limiting subset . despite this possible convergence between groups, we find that even when learning parameters evolve, optimization can still be sufficiently limited to allow for traditional differences.

while our findings support the idea that traditions should be widespread in foragers in cohesive groups living in patchy environments, for cumulative cultural change we expect a large context dependency. previous theoretical work on diet learning showed that cumulative culture could arise as a side-effect of grouping and therefore might commonly occur in animal societies  <cit> . our results here suggest that in the context of skill learning, cumulative cultural increases in energy intake may only arise for ol and only in environments with high task difficulty. the latter supports the idea that cumulative cultural processes may occur predominantly in species with cognitively demanding forms of social learning  <cit> . in particular, since se and le are inviable in environments with high task difficulty, our results suggest that ol would need to evolve before niches with high task difficulty could be invaded, and only thereafter would cumulative cultural increases in energy intake evolve. previously we have argued that through this process, the evolution of cognitively demanding forms of social learning could open up novel niches  <cit> . further modelling work is needed to confirm these expectations.

our measure of cumulative cultural change is very general and does not necessarily imply  the generation of behavioral complexity via the invention of novel behavioral combinations, or levels technological of complexity, nor  open-ended change  <cit> . in our model, the latter cannot arise because novel behavioural opportunities cannot be generated, and the cumulative cultural process is restricted to the opportunities that are available in the environment, and is ‘bounded’. thus, the complexity of behavior remains limited in the sense that any single behavior could be invented within the lifetime of an individual  <cit> . however, this behavior-level view contrasts with our repertoire-level perspective, where we consider culture cumulative if foragers exhibit a repertoire quality and overall skill level that they could not achieve within a lifetime of asocial learning. thus while each single behavior could in principle be discovered by any forager, the level of repertoire optimization, or total ‘ecological knowledge’, cannot. in future, this ‘ecological knowledge’ perspective could be extended to spatial knowledge, in order to establish a more complete perspective on the scope of cumulative culture next to diet learning  <cit>  and skill learning  in group foragers.

bounded contexts appear reasonable for considering cultural phenomena in many primate species  <cit>  and the kind of bounded cumulative culture observed here provides a putative evolutionary precursor to more open-ended forms of cumulative culture. however, our results suggest that precisely because the cumulative process is expressed at a repertoire level and bounded, detecting existing cumulative cultural processes empirically may be very difficult. we would expect a bounded cumulative cultural process to operate for some time, but then level off. thus when observing primates in the wild, researchers may well be measuring the outcome of a cumulative cultural process, where the phenotypes observed cannot be achieved within a single lifetime, even though changes in time may not be detectable. moreover, quantifying the difficulty of acquiring a particular repertoire and detecting social influences is extremely difficult  <cit> , which could help to explain the lack of empirical evidence for such cumulative processes. studying the reintroduction of animal species to the wild may be a promising setting in which to study the possibility of cumulative cultural change in animals across generations. the difficulty of successful re-introductions to the wild, especially those in great apes  <cit> , could be an indication of a dependence on cumulative culture.

if ecologically-bounded contexts are an evolutionary precursor to more open-ended forms of cumulative culture, then how can we use this to understand the transition between the two? at present many key variables have been proposed to explain this transition including, cognitive abilities for high fidelity copying  <cit> , large population sizes  <cit>  and high rates of socialization and division of labour  <cit> . what is lacking at present is a framework that explains how these factors originate and co-evolve. extensions to the multi-scale simulation model presented here could help to address this question. in this sense our model represents a tangible ecologically-bounded baseline in which researchers could study how ecological bounds could be relaxed. in particular, we expect that niche construction processes  <cit>  will be critical in relaxing the bounds found in our model, because these appear to be needed for generating feedbacks between cultural inheritance and opportunities for cultural innovation. in this way, cultural processes can start to define their own possibilities for change.

additional files

additional file  <dig> the third file is additional_file <dig> pdf in pdf format which can be viewed in any pdf-viewer such as acrobat reader. this file includes additional detail about the main simulation model and the modeling methodology and additional analysis. 




abbreviations
lelocal enhancement

olobservational learning

sestimulus enhancement

slmsocial learning mechanism

