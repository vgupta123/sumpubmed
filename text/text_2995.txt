BACKGROUND
in the past two decades, numerous repositories have been developed for data management and analysis of genomics studies. the largest and most notable are the public repositories gene expression omnibus  <cit>  and arrayexpress  <cit>  which store data from variety of different platforms, but allow users to query gene expression only. there are a few efforts to archive the raw data from next generation sequencing runs  <cit> . however most genomics repositories are still limited to microarrays - examples include the stanford microarray database  <cit> , madb  <cit> , genopolis  <cit> , mimir  <cit>  and several others which are compared in a useful review by gardiner-garden and littlejohn  <cit> .

most of these microarray databases follow the minimum information about a microarray experiment  standard  <cit>  that specifies the minimum required information needed to enable the interpretation of the results of the experiment. however, they often have heterogeneous sample annotation and use free text rather than a controlled vocabulary, making it difficult to perform integrative meta-analysis across experiments. several repositories were developed to specifically address this issue, including m2db - a microarray meta-analysis database of over  <dig>  experiments annotated with disease states and organism parts with terms from controlled vocabularies  <cit> ; oncomine - a web-based data management and mining platform for cancer datasets  <cit> ; gcod - genechip oncology database -which has curated human cancer datasets  <cit>  and genevestigator, which provides annotation on variety of biological contexts  <cit> .

although structured annotation of samples has allowed researchers to query expression across biological contexts, the actual application of these systems is limited to expression data. to accommodate other types of genomics data , standardized metadata on experimental design, measurement type and assay technology need to be captured. the isa software suite  was the first successful effort devised to annotate studies with heterogeneous high-throughput assays using standard ontologies  <cit> . while the isa infrastructure offers significant improvements in the structured annotation of diverse assays, as a metadata format/store, it does not of course provide tools for processing, analysis or visualization of data.

further, and very importantly, most databases are not available as open-source software to allow local installation and/or customization. this has led to inefficiencies, duplication of effort and creation of numerous databases. swetrz et al. reviewed a dozen of these genomics databases for maintainability, extensibility and interoperability  <cit> . only a few were found to be configurable and for most, the software wasn't readily available for reuse. in reaction to these findings, molgenis was developed as a local experimental genomics database  <cit> ; however, it isn't designed or optimized for integrative analysis.

we have developed exframe, a reusable framework that addresses the issues of standardized annotation, multiple data types and analysis tools in a single platform. our framework allows storage of gene expression, histone modification and transcription factor binding data from both microarrays and next generation sequencing technologies. the samples and assays are annotated with controlled vocabularies/ontologies and all data is processed and stored in a consistent way. this enables queries across species, experimental conditions and assay types, thus allowing the researcher to compare their data with others. the software is currently being used for two repositories, one containing hematopoietic stem cell data and the other parkinson's disease patients' data.

implementation
in this section we describe the implementation of exframe and its various components.

framework
web-based systems support ease of distribution, platform independence and scalable architecture. we implemented our system as a web-accessible database built on the lamp  technology stack. all components are available under open-source software license. we leverage the added convenience, power, and extensibility of a widely used open source content management system and social networking tool, drupal  <cit> . drupal is built on the php web scripting language, and its persistence store is a mysql database. drupal has a large developer community, allows ready customization and is highly scalable.

several basic modules, such as the user login system, a caching module for fast access of pages, and solr  <cit>  based search are pre-packaged with drupal. it also has a large number of contributed modules that are easily integrated, thus speeding up the development process. browsing, searching, and filtering capabilities are provided as part of the general drupal framework.

drupal also allows granular permissions and security based on user roles and group memberships. we used the granular permissions capability to implement flexible data publication. users of our system can choose to publish just the experiment metadata and keep the raw or processed data hidden. the experiment metadata allows users to be aware of an experiment that has been performed by another user of the repository, and can thus foster collaboration while still protecting pre-publication data. the raw or processed data can be made public at a later stage when it has been accepted for publication.

our framework, exframe consists of 1) custom drupal modules that describe and query the experiment metadata, 2) genomics data tables implemented directly in mysql that capture the data and annotation associated with genomes, loci, genes, transcripts and probes, 3) processing and analysis scripts, 4) query & visualization tools 5) import and export scripts and finally 6) resource description framework  modules that produce open linked data  <cit>  for the experiments and support the sparql  <cit>  semantic query function. the overall architecture of exframe is shown in figure  <dig>  the complete framework with all the above components was packaged and made available as a reusable distribution to build repositories of genomics experiments. installation and configuration of new instances can be done entirely through a web-based interface and does not require programming skills - thus significantly lowering potential barriers to adoption. the next sections describe various components of exframe in detail. the semantic web components - rdf modules, sparql endpoint and linked data - will be described in detail in a separate article.

custom drupal modules for experiment metadata
we developed several drupal custom content types to fully describe the experiment metadata. the basic unit of content in drupal is called a node; nodes are classified by type, and custom modules define new types. the experiment metadata was designed to support multiple types of biomedical experiments and comprises of three primary content types i) experiment which contains one or more ii) bioassays that are linked to iii) biomaterials.

the attributes of an experiment are title, researcher and the study design details. the experiment can be linked to publication. the bioassay content type describes the assays performed and has these attributes - type of measurement, technology, platform and the raw output data file produced by the assay. these attributes guide the processing and analysis scripts as well as assist the users to locate their data of interest. the measurement types can be easily extended as new requirements develop. the framework has been designed from the ground up to incorporate new measurement types  or new technologies . we capture the technology  as well as the particular platform  used in the bioassay; this enables us to process the raw data in a standard pipeline specific to the type of assay. bioassays from the same experiment can be grouped into specific sample and control groups for comparison. we have also developed an intuitive user interface to group bioassays into the sample and control groups

bioassays are linked to the biomaterial content type where sample properties are captured in detail. the default configuration allows the specification of the organism, development stage, tissue and cell types of samples using controlled vocabulary terms. the user can enter the data using either drop down forms or type-ahead fields. genetic modifications, treatment and disease state of the biomaterial are also captured as structured annotation where applicable.

we use the drupal taxonomy system for the controlled vocabulary terms, which are then mapped to various ontologies or taxonomies . the structured annotation of experiments allows enhanced searches - for example a user can find all the data from a particular cell type where histone modification has been measured. our framework, exframe, enables a site administrator to customize the set of fields available to the user for annotation. thus exframe can be deployed and configured to support new contexts, such as that of clinical data, and important patient characteristics can be acquired in a structured manner.

all the experiment metadata described above can be easily entered into the database using a user-friendly web form . the structured experimental metadata is subsequently processed and made available in several standard formats. this eliminates the need for crafting complex formats by a biologist or curator to generate structured annotation.

genomics data tables
to enable query by genomic entities and integrate the data, we designed a set of tables that represent the data associated with genomic features such as genes, transcripts and loci as well as their relationships with each other.

the data produced in an experiment is primarily stored in two types of tables. data from a microarray experiment is stored in a data table  and is associated with a bioassay and a probe. this generic data table can also be used for other technologies which have a data point associated with a probe such as qpcr. sequencing data, on the other hand, is associated with an arbitrary genomic region with a defined start and end and is stored in the rtype_locus table. computed values such as fold change are stored in the rtype_fc_matrix table. the complete genomics database schema is available as additional file  <dig> 

genomics data often needs to be described using heterogeneous entities. we designed the database in a flexible manner to accommodate genomics data that is associated with a gene, transcript, probe or genomic interval. for example, each microarray represented in the database has multiple probesets, each probeset may by associated with a transcript, each transcript is associated with a gene. affymetrix probesets, gene transcripts, etc. are linked to the gene which allows the users to query based on gene symbol and pull the relevant data from different assays. for sequencing assays, resulting values are linked to genomic features, e.g., peaks from a chip-seq assay are linked to the nearest transcript.

genes may have multiple symbols and orthologs. orthologous genes are grouped using information from the ncbi homologene database  <cit>  and the homolog id was applied as the group identifier . storing the ortholog information and gene aliases allows the user to query by any gene symbol and retrieve results across species.

processing & analysis scripts
we have developed a computational pipeline that allows structured storage, analysis and retrieval of data from different types of platforms . when a user submits the raw data files, the relevant processing is triggered and a job with the appropriate job type is stored, based on the type of assay.

for microarray data, the user uploads cel files; the data is background-corrected, normalized and summarized using the gcrma algorithm  <cit> . expression fold change between the case and control groups is computed for each probeset and stored in the database along with associated statistics including p-value, false discovery rate, t-statistics, lower & upper confidence intervals, standard deviation  and case and control means. this information enables users without any programming experience to query for a gene fold change across all experiments from various species, disease states and cell types using an easy to use interface. the query results can be filtered by various attributes of the experiment.

next generation sequencing technologies can be used for measuring rna expression , transcription factor or any protein binding to dna , histone modification , dna methylation , or protein binding to rna . users upload fastq files for all next generation sequencing assays and the data is consistently processed through the pipeline. the common first step for all next generation sequencing assays is to align the reads to the genome. subsequent processing and analysis is done depending on the assay/measurement type.

to quantify the histone modification for a gene locus, first reads are aligned using the bowtie program  <cit>  and then the fragments per kilobase per million fragments mapped  abundance measure is calculated for the region of interest. for example, the window used was 1kb upstream to 1kb downstream of the transcription start site for h3k4me <dig> and h3k27me <dig>  for transcription factor binding assays, peak identification is done using the macs program  <cit>  and then peaks are assigned to the gene in whose promoter region it is located. the peak score for each gene is stored in the rtype_locus table in the database. for rna-seq data, reads are aligned using tophat  <cit>  to identify splice junctions and further processed using cufflinks  <cit> . the fpkm abundance measure for each transcript is stored in the rtype_locus table. the intermediate files - bam from bowtie/tophat, fpkm from cufflinks and bed/wiggle from macs are also stored for use with other genome browsing tools.

the advantage of assigning all measurements to a gene is that it allows us to compare features  across experiments using query and visualization tools described in the next section. further documentation for the pipeline can be found at our project website. tools for analyzing dna-methylation and rip-seq assays, as well as for solid sequencing platforms are under development and will be available shortly.

query & visualization tools
we provide various analysis and visualization tools to probe the genomic data and present an integrated platform for genomic discovery. we provide two different forms of visualizations. first, we allow users to query a list of genes and visualize the result as a heatmap illustrating gene expression across all samples  in the experiment. the second type is a scatter plot of the data - we integrated the icanplot tool  <cit>  into exframe for this purpose. users can choose the x-axis, y-axis, color and size of the points in the scatter plot from any of the available experiments. using the scatter plot tool, users can do integrative analysis such as investigating the relationship between histone modifications or transcription factor binding and gene expression.

import & export
the experiment information and genomic data can be downloaded in various formats, including the original raw data file, ncbi geo soft  <cit> , isa-tab  <cit>  for the experiment metadata and gct files for microarray expression data. in future we will also allow download of the processed files, such as the aligned reads  or peaks  through the web interface. if researchers enter their data and annotation on the website, they can easily submit the experiment to geo  <cit>  using the soft format, thus providing an incentive for data entry. we also allow import from soft files and thus allow users to upload publicly available data from geo into the database.

RESULTS
we illustrate the features and benefits of exframe using two different use cases and present various queries and visualization examples.

case study 1: hsci blood genomics
the first use case we implemented was a repository for the harvard stem cell institute  blood program - hsci blood genomics . a screenshot is shown in figure 3a. the hsci blood program focuses on understanding and identifying the molecular and cellular characteristics and pathways involved in the self-renewal of hematopoietic  stem cells. the hsci blood genomics repository is currently comprised of highly curated data from many gene expression, epigenetic modification and transcription factor binding studies using both microarrays and next generation sequencing platforms. there are over  <dig> experiments with  <dig> assays from  <dig> different organisms,  <dig> tissue types and  <dig> cell types. the repository has data from  <dig> participating laboratories as well as public data that is of interest to the blood program researchers. a subset of the experiments, results of which have been published in scientific journals, is available to the public. the experiment metadata is available to all hsci members but only lab members can access the raw data. we plan to extend availability of this platform to all laboratories in hsci over the coming year, with assistance for importing legacy data.

the biomaterials used in each experiment in the repository have deep and structured annotation. an example of a biomaterial, granulocyte macrophage progenitor like leukemic cells , is shown in figure  <dig>  the researchers were able to characterize the biomaterial used in the assay using controlled vocabulary terms. there is much debate in the stem cell community about the presence and absence of markers in various hematopoietic stem cell types. hence, it is important to explicitly state the positive and negative or high/low markers used to sort and isolate the cells. thus, a separate field is used to specify the antibodies used. for the l-gmp sample, mll-af <dig> fusion gene was expressed in mice to create the leukemia model and c-kit+, fcr+, cd34+ and lin- antibodies were used to isolate the granulocyte macrophage progenitor  cells from the bone marrow. the identifiers of the genes in the genetically modified l-gmp specimen are also shown in figure  <dig>  the phenotype or other important notes are captured in a free text format.

the repository contains both data generated at hsci as well as public data of interest to the community. we downloaded data from the ncbi geo repository  <cit>  and imported it into the repository using the soft format. the data in the repository can be downloaded as various formats including isa-tab and soft. the format of the resulting isa-tab files was independently validated by the isa-tab validator. the repository also makes the data available as a sparql endpoint, which will be described in a separate paper.

case study 2: pdexpression
we successfully reused exframe in a different context to build pdexpression - a repository of transcriptional profiles from parkinson's disease  patients. pdexpression is still under development and not open to the public. while pdexpression has the same underlying structure as the hsci blood genomics repository, it has a different visual theme that provides a unique and relevant look for this group . appearance may be customized as required, by other users of exframe, using the various "theming" capabilities and modules built in to drupal. pdexpression currently contains nine genome-wide expression studies from  <dig> human laser-captured dopamine neuron and substantia nigra transcriptomes using various microarray platforms. in this repository, it was important to capture the patient/subject characteristics and hence the biomaterials were annotated with taxonomy of pd diagnoses and rna sources; age and sex of the patients were also stated .

gene queries
the structured design of the software and consistent processing and storage of all experiments enable queries by gene symbol. genes with significant expression changes across different experiments from various cell types, disease states and treatments are returned. the underlying data model, which specifies orthologs, returns significant fold changes of the query gene as well as its orthologs on request. for example, a query for "gata1" currently returns results from human, mouse and zebrafish experiments . users are able to narrow down and filter the results using various attributes such as fold change, cell types and organism. the scores for next generation sequencing assays can also be queried in a similar manner.

researchers are often interested in a family of genes and hence multiple gene queries are also supported. users can paste a list of genes in a text area and the results are visualized as a heatmap. hox gene family expression in mep , gmp , cmp , l-gmp  and hsc  cells is illustrated in figure 6b. the expression values are quantile normalized for the heatmap visualization.

next generation sequencing - data processing and visualization
to illustrate the processing of next generation sequencing assays, we chose a publicly available rna-seq dataset from the ncbi geo database . in this study, gabut et al investigated the transcriptional effect of alternative splice forms of the foxp <dig> transcription factor on the h <dig> embryonic stem cell-line  <cit> . to study the transcriptional differences of  <dig> mutually exclusive splice forms of the foxp <dig> gene, they used custom sirna pools to knock down  exon  <dig> and 18b of the foxp <dig> gene. control sirnas were also used and all  <dig> samples were profiled using rna-seq on the illumina genome analyzer platform.

we first entered the experimental information and annotated the assays and samples using controlled vocabulary terms. then the sequencing run reads  were aligned to the human genome assembly hg <dig> using tophat  <cit> . the transcript abundance was computed using cufflinks  <cit>  -the fpkm measure for each transcript was stored in the rtype_locus table and the fold change vs. control was stored in the rtype_fc_matrix. the expression fold change of the exon 18b kd and exon  <dig> kd samples were plotted using the scatter plot tool . the details of the selected gene with decreased expression in exon 18b kd and increased expression in exon  <dig> kd is displayed. such an overview is an easy first step for visual exploration of the entire data. the alignment details can be further explored with any genome-browsing tool that accepts the bam/sam format.

integrative visualization
further, we were able to successfully use our developed tools to get an integrative view of data generated from different platforms and assays. in this example, we demonstrate the integration of gene expression with histone modification data where gene expression was measured using microarrays and histone modification was measured using chip-seq assays. the histone modification scores were summarized for each transcript and plotted to identify the relationship between different marks in l-gmp and gmp cells. further, gene expression was superimposed to obtain an integrative view of the role of histone modifications on the gene expression. figure  <dig> displays a scatter plot of h3k79me <dig> histone marks upstream of genes in l-gmp vs gmp cells and the points are colored by expression fold change of l-gmp vs gmp cells. genes with the highest increase in expression in l-gmp versus gmp  also have the greatest increase in h3k79me <dig> histone marks in l-gmp compared to the normal gmps. such features quickly enable the user to visualize the association of gene expression with histone modification. users can perform similar visualization for other data types - such as investigating effect of transcription factor binding on gene expression or cross-species concordance.

CONCLUSIONS
we have developed a drupal-based, reusable, open-source framework - exframe - that has allowed us to deploy the same software distribution for two widely different use cases and communities. one of them contains transcriptional profiles, histone modifications and transcription factor binding experiments on hematopoietic cells and another on primary tissue derived from parkinson's disease patients. for both cases, exframe was used to provide  institutional memory of experimental results,  cross-dataset comparison,  expedited and simplified integration with public databases, and  metadata-enabled cross-experiment and cross-laboratory dataset discovery. in the future, other scientific communities or research institutions are encouraged to configure and deploy this highly useful, reusable toolkit for their custom use.

the consistent processing and storage of the experiments enable users to integrate data across labs, species, technologies and measurement types. all data is mapped back to the relevant region of the genome, transcript or gene and thus allows researchers, for example, to investigate the effect of histone modification on the transcription of the gene. it allows cross species or experimental model comparisons. in future, we would like to research document-oriented databases such as mongodb or implement caching mechanisms to allow scaling for larger data sets.

structured annotation and use of controlled vocabularies to describe the biological samples, assays and experiment promotes reuse of data. such an approach allows us to leverage the semantic web technologies. semantic web produces machine-readable content that allows data reuse and integration with other knowledge resources - exframe provides the ability to generate linked data and sparql endpoints for the experimental metadata. the easy to adopt system lowers the barrier of entry and provides the benefits of the semantic web, while effectively hiding the complexities of the technology. these features will be fully described in a forthcoming paper.

open-access, standardized annotation allowing interoperability and analysis ready data repositories are required for integrative genomics  <cit> . we believe that use of our framework will encourage data sharing, integration and meta-analysis of genomics data, which will ultimately lead to the understanding of complex biological processes and pathogenesis of diseases. this toolkit supports, we believe, a broader and more comprehensive feature set than any other genomics experiment repository code available for general re-use under open source license. we encourage both use and collaborative extension of exframe by other researchers and informaticians.

availability & requirements
• project name: exframe

• project home page: http://sciencecollaboration.org/exframe

• operating system: platform independent

• programming language: php & r

• other requirements: lamp stack

• availability: freely available under a gnu  <dig>  license without any restrictions for commercial use the web application is supported on the following browsers - firefox  <dig>  safari  <dig>  chrome  <dig>  ie  <dig> or higher.

authors' contributions
as and em were the primary contributors to design and development of software under the guidance and supervision of sd. tc provided consulting on design, functional specifications and open source, reusable software development. sample data described in the paper was generated in sa's laboratory. manuscript was authored by as & sd with contributions from tc & em. all authors read and approved the final manuscript.

supplementary material
additional file 1
genomics tables. database schema of the genomics tables

click here for file

 acknowledgements
we would like to acknowledge the harvard stem cell institute  for funding and support. we thank dr. daniel tenen, dr. david scadden, dr. len zon, dr. stuart orkin and dr. clemens scherzer for helpful discussions and for providing requirements. lastly, we thank siavash safarizadeh of we web workers  for all his contributions to drupal programming.
