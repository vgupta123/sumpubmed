BACKGROUND
intrinsic protein disorder is becoming an increasingly important topic in protein science  <cit> . protein function has been traditionally thought to be determined by tertiary structure. over the last decade, intrinsically disordered proteins  have been found to be important in many important biological processes  <cit> . idps are widespread in natural proteins, especially in eukaryotic organisms  <cit> , and are frequently associated with molecular recognition  <cit> . they have been observed to be common among hub proteins, i.e. those with many interaction partners  <cit>  and also to play a key role in human disease  <cit> . in addition, protein disorder is important for experimental protein characterization since difficulties often arise when long disordered regions are present, which frequently happens at the n and c termini  <cit> . idps represent a heterogeneous concept with many different and elusive definitions  <cit>  which can be traced back to different indirect experimental methods.

sources of disorder information
currently available sources for intrinsic disorder annotations can be divided in two main groups. the first group includes annotations inferred from experiment, with evidence in publications. the second group includes annotations automatically extracted by computational tools. the latter can be further subdivided into automatic annotations derived from experimental sources, and automatic annotations obtained from software predictors.

there are currently two available sources of intrinsic protein disorder information with evidence in publications. the disprot  <cit>  database, a manually curated repository, features disorder and structure annotations for  <dig> proteins . the ideal  <cit>  database, also manually curated, contains information on  <dig> proteins. the protein data bank   <cit>  constitutes the main source of available experimentally-based disorder annotations with over  <dig>  different structures. it is widely accepted that missing residues from x-ray structures have a good correlation with intrinsically disordered residues  <cit> . these missing regions can easily be extracted from structure files deposited in the pdb. some  <dig>  structures solved by nmr experiments are generally deposited as structural ensembles in a single file. these can be used to detect residue mobility  <cit>  which, in a way that is analogous to the missing x-ray regions, are a good indicator of intrinsic disorder. nmr structures were only recently considered in disorder prediction  <cit> , demonstrating the long held belief of different flavours of disorder  <cit> .

a great number of intrinsic disorder predictors have been developed over the last few years  <cit> , with two main scenarios emerging for their application. the first is represented by predictions of disorder on a relatively small number of proteins with maximum accuracy, such as in the casp experiment  <cit> . most existing prediction methods, such as disopred  <cit> , vsl <dig>  <cit>  and cspritz  <cit> , have been trained for this scenario. a more practical scenario is however represented by the genome-scale analysis of disorder  <cit> , where some performance is sacrificed to achieve results in a reasonable time frame. this usually entails using a method that does not require a multiple-sequence alignment, thereby speeding up computation by several orders of magnitude  <cit> . disembl  <cit> , iupred  <cit>  and, more recently, espritz  <cit>  have been all developed with this scenario in mind.

in the following, we will describe the construction of the mobidb database of experimental and predicted disorder annotations in proteins  <cit> . in particular, we will compare the different annotation sources and how they are integrated. a coherent consensus disorder definition will be derived and used to annotate the proteomes of a set of representative model organisms.

materials and methods
database structure
mobidb  <cit>  data is stored and queried using the postgresql database engine. the database schema is composed of  <dig> tables and shown in figure  <dig>  the main idea in the database is to have a set of reference protein sequences, which will be annotated by associating as many annotating sequences as possible to them. the reference sequences represent distinct biological objects, e.g. proteins, which can be obtained with unique identifiers from a reference collection such as uniprot. annotating sequences are obtained from the various sources mentioned in the previous section. they can be mapped at residue-level to the reference sequences, and provide information such as e.g. disorder, secondary structure, and sequence conservation. in principle, the database schema can be used for any sequence-based annotation. the data is partially normalized, although some exceptions to the normal forms have been introduced with the aim of improving efficiency when inserting and querying data.

data loading is performed as a three-step process. in the first step, annotations are extracted from each annotation source and stored as two fasta files. one of these files contains the annotating sequences, and the other the annotations extracted from those. an extra comma-separated file is generated which links the annotating sequences to their corresponding reference sequences. in the second step, a script takes the first step output files and generates tab-separated files compatible with the database engine's batch-loading mechanism. during this step, if an annotating sequence covers only part of its corresponding reference sequence, an alignment between the two is performed. the potential resulting gaps introduced in the annotating sequence are also transferred to the extracted annotation. the third and final step consists simply of loading the data in batch to the database. to maximize the loading performance, the affected database indices are dropped before the insertion begins. the resulting database constitutes the backend of the application, which will then be accessed by the user interface.

the middle tier of mobidb is composed of java servlets. these receive a query from the front-end, submit it to the backend, and translate the results into hierarchical java objects. these objects are then transformed into json objects, and made available for further processing by the front-end. mobidb's user interface makes extensive use of modern internet browser features to provide a flexible user experience. the results provided by the middle-tier are processed and displayed using the jquery javascript library. a widget system was developed which allows for the display of information in independent ui subunits that can be rearranged throughout the screen by the user to fit its needs.

disorder data and resources in mobidb
all of the aforementioned disorder sources are integrated into the mobidb database. xml files from the disprot and ideal databases are parsed for annotations. information on the corresponding uniprot entries to be linked to those sources is included in also included in the xml files. annotating sequences from pdb files are extracted by means of custom scripts  and the mobi server . these annotations are then linked to their corresponding uniprot protein sequences by means of the sifts database  <cit> . in order to capture different flavours of disorder, seven in silico disorder predictors are run against all the reference sequences: three espritz  <cit>  flavours  and two flavours each for iupred  <cit>   and disembl  <cit>  .

mobidb version  <dig> . <dig> integrates the latest versions of its data sources at the time of writing. it features a total of  <dig> , <dig> proteins and covers all complete proteomes for eukaryotic species, as present in the uniprot database  <cit> . table  <dig> provides a detailed list of such sources and their corresponding versions.

disorder consensus and weighting
for each protein with experimental annotations, the average of annotating sequences in the mobidb database is seven. the annotations from in silico predictors are excluded from this average, since they require only the protein sequence as input and can therefore provide annotations for all proteins in the database. furthermore, different disorder annotation sources may reflect different types of disorder phenomena. given these facts, a simple method to combine annotations would allow for a more integral vision of disorder information. with this in mind, we developed a novel consensus disorder annotation that integrates all available disorder annotations for a protein. the consensus is calculated for each position of the reference sequence, by taking into account the corresponding positions in the annotating sequences whenever they are available. it is composed of two values: disorder level, and annotation score. the disorder level evidences how much the selected annotations agree on whether a given position of the reference sequence is structured or disordered. it is an integer value ranging from  <dig> to  <dig>  with  <dig> meaning full agreement on a region being structured, and  <dig> meaning full agreement on a structure being disordered. it is calculated by the following formula:

  l=min,9) 

where Σdw is the sum of weights of annotations considering the region disordered, and Σsw is the sum of weights of annotations considering the region structured. the annotation score evidences the strength of a given consensus annotation. it is the sum of the weights of every annotation that agrees with the final consensus for a certain region. its objective is to allow the classification of regions according to the amount of data backing up the resulting annotation. this amount is also dependent on the relative weight of each annotation. in all cases, the sums are calculated over all the annotations corresponding to a certain position of the reference sequence. this may be visualized as the columns in an alignment between the reference sequence and its corresponding annotating sequences. in the case where an annotating sequence has no annotation for a certain reference sequence position, its contribution to the sum is zero. in all cases the minimum value of the sums is zero, and the maximum will depend on the number of annotations available, and the weight assigned to each of them.

empirical weight factors have been derived for each disorder annotation source. intuitively, the rationale is to favour manually curated annotations  over experimental structures from the pdb, and the latter over all predictors. the weighting factors were thus chosen to resemble this situation, with x-ray structures judged depending on resolution and preferred over nmr models. the weights for annotations obtained from the disprot and ideal databases were chosen so that having a few high resolution x-ray structures can tilt the disorder consensus towards ambiguity as these are may represent regions of alternating structure. disprot and ideal annotations are assigned a weight of  <dig>  to reflect the quality of the manually curated data. each x-ray annotation is given a weight according to the following formula, which increases the weight as the resolution of the experiment improves:

  wxray=1-loglog 

where r is the resolution of the experiment, and rt is a user-defined maximum resolution threshold. this threshold allows the user to set a baseline in the form of a minimum resolution required for a structure to provide a significant annotation. in the case where the resulting weight is smaller than  <dig> , a fixed value of  <dig>  is assigned. pdb nmr structures are assigned a fixed weight of  <dig>  each, to reflect the usually higher uncertainty in coordinates obtained by nmr experiments when compared to their x-ray counterparts. finally, predictor-generated annotations are given a weight of  <dig> , which allows experimentally obtained data to prevail whenever it is available.

sequence conservation and disorder classification
in order to provide information regarding the sequence conservation of disorder, mobidb  <cit>  also annotates sequence conservation on groups of orthologous protein sequences. for each reference sequence in the database, a search is performed in the oma browser database  <cit>  to look for a corresponding group of orthologs. if such a group is found and contains at least  <dig> members, a multiple sequence alignment is constructed with clustalw  <cit> . a position in the alignment is considered conserved if the same residue is present in at least 50% of the sequences. whenever such sequence conservation annotations are available, disordered regions in reference sequences are classified in a way analogous to the definitions introduced by bellay and co-workers  <cit> . if the region is disordered and its sequence conserved, it is defined as "constrained disorder". if, on the other hand, the region is disordered but the sequence not conserved, it is termed "flexible disorder".

RESULTS
in order to assess the available information on disorder, it was first necessary to create a new database. mobidb was thus designed with three main goals in mind: performance, scalability and usability. the database had to maintain good performance both when loading, so it can be updated frequently, and querying, so as to be useful for the public by providing fast response times. it had to be scalable, meaning that performance levels can be maintained when expanding with further information. last but not least, it had to provide high levels of usability, giving the user a centralized, flexible and useful way to access intrinsic disorder information in an intuitive way. updates for mobidb are carried out through a three-step loading process integrated into a single, automated pipeline . this allows for the easy regeneration of the entire database with up-to-date information in less than a week's time. enabled by this fact, and based on the update frequencies of the different sources integrated into mobidb, we have set a quarterly update interval. every three months mobidb will be updated to keep up with recent additions to its information sources.

use cases for mobidb
there are two main use cases for mobidb. the first one is the analysis of a single protein by means of the user interface. the second one is the generation of a custom dataset for offline analysis. both actions are available after performing a database search, or after accessing one of the browse options. mobidb supports the uniprot complex search syntax, through a web service call to the uniprot server. this allows to build sophisticated queries with various filters, e.g. organisms and subcellular localizations. all proteins matching the search parameters will be listed along with relevant information for each entry in the search results page.

from the search results, the user can click on a protein name and be directed to the protein analysis page. this page features four interactive widgets, each containing different pieces of information regarding the selected protein. the reference sequence information widget contains general information related to the chosen reference protein, extracted from the uniprot database. the annotation sources widget contains the different annotated regions from each annotating sequence that has been linked to the reference sequence. the annotations plot widget provides a graphical representation of the available annotations associated to the reference sequence. this contains general annotations such as pfam annotations and disorder consensus, as well as all available disorder annotations sources.

instead of analysing a single protein via the graphical interface, the user can opt to download a dataset containing multiple entries. this can be done by pressing the download button in the top left of the search results page. the exported dataset will is composed of two fasta files. one of them containing all relevant reference and annotating sequences and the other one containing all the corresponding annotations. pre-computed datasets are available in the download section of the mobidb website for the different experimental data sources, as well as for each of the  <dig> complete proteomes.

analysis
given the unifying concept of mobidb, where different disorder data sources are collected and serve to annotate the same sequences, it is interesting to note how these sources relate to each other. in an effort to quantify the differences and similarities and to allow for the comparison, table  <dig> provides a variety of descriptive statistics. the left half of the table contains residue-level information, while the right half contains region-level information. we define a disordered region as a consecutive stretch of residues annotated as disordered. the residue-level data gives a quick picture on the amount of information each source contributes. it also shows how generous each of them tends to be when annotating a residue as disordered or structured. the region-level data evidences the length distribution of the regions detected by each source. as can be expected, the different disorder sources contain data with different characteristics. there appears to be two well-defined clusters and some outliers. the pdb-xray, espritz-xray and ideal annotations appear to concentrate on few residues with somewhat longer disordered regions. this can be rationalized as sequence segments which probably do not crystallize. disprot tends to annotate regions of similar length to the previously mentioned sources, but mostly contains only disorder annotations, yielding more disordered residues. on the other hand, the pdb-nmr, espritz-nmr, disembl-hl and, to a lesser degree, the iupred sources tend to annotate a larger amount of residues, but grouped in shorter regions. this likely can be explained as flexible regions fluctuating in space, which may or may not be entirely disordered. espritz-disprot is an outlier which predicts comparatively few residues as disordered, but when disorder is predicted it is for very long segments.

a second test was carried out to better understand the relationship between the different disorder data sources, as defined in table  <dig>  and manually curated disorder definitions. figure  <dig> shows the agreement between each source and the disprot and ideal annotations used as gold standard. here, matches or mismatches are only considered when a curated annotation exists. the first striking result is that the two gold standards, disprot and ideal, are rather different. in fact, for proteins with both annotations, the reproducibility of one from the other is around 20%. this is rather puzzling, given how both strive to describe the same phenomenon. upon closer inspection, it becomes apparent that ideal focuses more on shorter disordered regions, which more readily correspond to missing x-ray residues. disprot on the other hand contains more longer disorder segments. in general, it is harder to reproduce the disprot annotation than ideal.

consensus
from the various disorder data sources it is a logical step to derive a consensus annotation. the protocol for this is described in methods and a set of variants defined in table  <dig> are also tested in figure  <dig>  the predictor consensus agrees ca. 50% of the time with disprot, but covers almost 90% of the ideal annotations, again reinforcing the impression about the differences between these two gold standards. in general, the full consensus was designed to closely reproduce the manually curated data whenever available. this analysis can be taken one level further, by showing the level of agreement between each possible combination of annotations, by building "restricted" consensus annotations that include only a subset of the disorder information sources. three different ways to calculate the agreement are defined in figure  <dig>  defining whether gaps in one annotation should be considered or not. figure  <dig> shows the results for these definitions, which are broadly similar with the baseline agreement  being perhaps the most representative. most sources are rather similar, with the notable exceptions of disprot, pdb-nmr and, to a lesser degree, ideal. the former two have a low agreement with the other sources and among themselves, reinforcing the notion of their unique contribution to disorder. ideal confirms its rather good agreement with pdb-xray data.

proteome analysis
as an example of the potential of mobidb, we present an analysis of disorder in  <dig> eukaryotic model organisms . our analysis is in broad agreement with previous data suggesting a correlation between organism complexity and disorder  <cit> . the overall fraction of disordered residues is lower than in previous publications, with an average or only 15% for the disorder consensus. due to different disorder sources covering slightly different sequence stretches, effectively cancelling out each other, this estimate should be considered a lower bound only. somewhat surprisingly, a few simple organisms are predicted to have more disordered residues than more complex ones . a similar observation was recently made for a larger set of eukaryotic proteomes, leading the authors to speculate about an organism's lifestyle  <cit> . in any case, mobidb provides the means necessary to easily carry out proteome-wide comparisons of disorder distributions.

single protein analysis
for the use case of analysing a single protein mobidb provides an interactive user interface. in this interface the user can customize the resulting consensus by selecting only those sources of information relevant to the analysis being performed. in the case of the e <dig> ubiquitin-protein ligase mdm <dig> , experimental annotations are available from the ideal and disprot databases, and from pdb x-ray and nmr experiments. none of these, however, provide coverage for the full protein sequence. the mobidb consensus provides the means to elegantly combine the available annotations, allowing the user to quickly understand how disorder is distributed in his protein of interest.

CONCLUSIONS
we have presented a detailed description of mobidb, a database of experimental and predicted disorder in proteins, and its main features, disorder consensus and weighting. the database is highly modular and extensible, allowing inclusion of a growing amount of information. a comparison between different disorder data sources highlights how the mobidb consensus captures the main features of intrinsic disorder and correlates well with the manually curated datasets from disprot and ideal. in more detail, the disprot curation is best approximated with a combination of disorder predictors, allowing a robust estimation of the presence of disorder in eukaryotic genomes, roughly confirming the higher incidence of disorder in higher organisms. in the future we plan to expand mobidb to include additional information for all known proteins, both from experimental sources and new predictors, with the goal of making it an increasingly useful, centralized source of data for intrinsic disorder research.

competing interests
the authors declare that they have no competing interests.

authors' contributions
tdd and scet designed the study, analyzed the results and wrote the paper. tdd and iw performed the experiments. all authors have read and approved the final manuscript.

