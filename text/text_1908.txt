BACKGROUND
in metabolic interactions also known as cross-feeding, microbial species exchange usable metabolic products arising from the metabolism of a primal nutritional resource. these metabolic products can serve as alternative, secondary resources to microbial species for obtaining their energy or composing the building blocks for biosynthesis. in nature, microbes live in communities and develop cross-feeding interactions, which provide an overall increase of nutrients and a more efficient exploitation of a given environment  <cit> . in the laboratory, evolution experiments in bacteria have repeatedly shown the emergence of cross-feeding interactions in simple environments  <cit> . metabolic interactions can alter the biochemical phenotypes of the participating species allowing novel, unexpected phenotypes to emerge. furthermore, the emergence of metabolic diversity and the development of metabolic interactions play an important role in the evolution of bacterial populations as they dynamically shape the growth medium. apart from its biological significance, understanding bacterial diversity is also of great importance in areas such as food preservation and bio-degradation of pollutants as well as in human health as the extensive variability of pathogens within populations continues to threaten human life.

several studies have worked on the characterization of microbial interactions in either synthetic or natural communities  <cit>  and have explored the mechanisms that stabilize the emerged polymorphism in microbial populations even in simple environments. these mechanisms include the role of product inhibition in substrate competition  <cit> , the spatial arrangement of interactions and dispersal in the maintenance of diversity  <cit> , the existence of trade-offs between the uptake efficiencies of the primary and secondary resources  <cit> , evolutionary criteria that allow the partial degradation of the substrate  <cit>  and metabolic and physiological trade-offs in the absence of cross-feeding, spatial and temporal heterogeneity  <cit> . game theoretical models such as the prisoner's dilemma and the snowdrift game for pair-wise interactions and the public good games for groups of interacting individuals have been widely applied to explain stable polymorphisms, cooperative behaviors and the specific conditions that allow their establishment in natural systems  <cit> . a minimal synthetic obligatory cooperative system has also been engineered by shou et al.  <cit>  to study cooperation as well as the conditions that allow viability between two auxotrophic strains of yeast, each producing a substrate essential for the other. in each case where metabolic interactions are involved, the interacting species are modeled with specific properties, which allow them to share specific metabolites. depending on the modeling approach, the fitness costs and benefits of the interactions or the nutrient fluxes are inferred from the characteristics of the individuals in order to model the interactive dynamics.

based on existing genome-scale metabolic models, this study aims to investigate the detailed metabolic interactions, which can develop between bacterial strains as they grow in simple, single-source, batch cultures. genome-scale metabolic models account for the inter-connectivity of metabolic pathways that utilize the environmental resources and produce energy and biomass precursors required for cellular growth. these models describe genotype-phenotype relations revealing the full extent of metabolic capabilities of genotypes under various environmental conditions and have been broadly used  <cit>  with the aim of identifying essential genes or metabolites, inferring the lifestyle of an organism, investigating the evolution of the metabolic networks as well as comparing and validating the metabolic networks and designing organisms with a desirable metabolic phenotype. although a lot of research effort has been devoted to the development of whole cell, in-silico genome-scale metabolic models  <cit> , there are only a few studies of genome-scale multi-species interactions. the work of stoylar et al.  <cit>  is the first reported reconstruction of a dual-species stoichiometric model, which was developed in order to describe the metabolic interactions between the microbes desulfovibrio vulgaris and methanococcus maripaludis in methanogenic laboratory co-cultures. these two microbes develop a specific hierarchical association with each other, known as syntrophy. although the model focuses on the central metabolism rather than the full genome, it predicts several features of co-culture growth, including the ratio of the two microbe populations in culture and the dominant electron carrier during growth. an alternative stoichiometric network analysis approach was developed by taffs et al.  <cit>  to describe a natural thermophilic microbial community from yellowstone national park. their method was also compared with previous studies and the trade-offs between the available biological knowledge of the species in a community, the tractability of the models to incorporate this knowledge and the accuracy of their predictions, were addressed. using a set of conditionally lethal auxotrophic e. coli mutants, wintermute and silver  <cit>  studied the pair combinations, which produced improved growth relative to their corresponding monocultures through synergistic metabolic interactions. their model was based on the hypothesis that mutants tend to approximate the optimal wild-type flux distribution and an optimal joint metabolic flux distribution was identified to describe co-culture growth.

in this study, single, metabolic gene knockouts define the pool of bacterial strains among which potential cross-feeding interactions are examined. based on the hypothesis that metabolic products are exchanged in a bacterial population, we previously developed a graph-theoretic approach  in order to map pair-wise genetic to metabolic alterations with respect to by-production and identify communities of metabolically different mutants in a given environment  <cit> . different environmental conditions result in different diversity graphs and define different strain communities. in extension to our previous study several graph-theoretic measures are applied in order to reveal biologically meaningful properties, characterize the diversity graphs and allow the direct comparison of the overall metabolic variability under different growth conditions. the method can constrain the community size by determining the upper bound of the metabolic diversity in a given environment. this work also focuses on revealing the relation between metabolic difference and its evolutionary trait. building upon the existing dynamic fba model, which describes batch and fed-batch monocultures  <cit> , we have also developed a metabolic model capable of describing the co-growth of different cell-competitors in a batch culture  <cit> . the proposed multi-competitor metabolic model assumes that cells and nutrients are distributed homogeneously throughout the growth medium and that each cell optimizes its growth depending on the availability of the substrates over time. strain communities with more than two strains are studied in this work. the growth of strain communities are simulated with the aim to identify communities of improved growth relative to corresponding monocultures in the same batch scenario and predict the range of metabolites that are exchanged. the dependence of a strain community growth on its constituent parts is also addressed. although strain communities are not modeled to operate towards a collective goal  <cit> , such as the growth of the group, growth beneficial communities are observed as the result of metabolic interactions. we demonstrate the applicability of our approaches to the bacterium e. coli across different single-carbon-source conditions.

methods
modelling bacterial batch monocultures using stoichiometric models
utilizing a genome-scale metabolic network reconstruction of an organism, constraint-based metabolic approaches model the relation between the genomic information and metabolic activity at flux level and reveal properties that cannot be predicted by descriptions of individual components  <cit> . the core assumption of constraint-based models is that the system, constrained by its stoichiometry, s, reaches a steady state  that satisfies the physiochemical constraints under a given environmental condition . flux balance analysis  further assumes that a cell follows an optimization strategy in order to accomplish cellular tasks. the most commonly applied objective is the maximization of growth rate reflected in biomass production , which has proved to successfully describe unicellular organisms  <cit> . thermodynamic constraints that determine the reversibility of the metabolic reactions and enzymatic capacity constraints have been also included to place limits on the range of possible fluxes .

  maximizeμ 

  subjecttosv= <dig> 

  vmin≤v≤vmax 

varma and palsson  <cit>  extend the original fba method in order to describe batch cultures during the exponential and early stationary stage and predict the transient changes in external substrate concentrations. the batch culture consists of identical cells, which follow the same metabolic and regulatory program. both the primal nutritional resources and the secreted metabolites are considered as substrates that can be used by cells. the model also assumes that cells and nutrients are distributed homogeneously throughout the growth medium.

the initial concentrations of the substrates  are given as well as the initial biomass concentration  of the bacterial population. the whole time regime is divided into time intervals δ t where intracellular steady-state is assumed. at each time interval the flux distribution, v, which optimizes the growth rate μ is calculated by solving the optimization problem described in equations  <dig>   <dig>   <dig> and  <dig>  the biomass and substrate concentrations are updated at each time interval as shown in equations  <dig> and  <dig>  respectively. the flux vexj of an exchange reaction j is positive if the substrate corresponding to reaction j is produced and negative when it is consumed. equation  <dig> corresponds to the uptake bounds of the exchange fluxes, which are determined by the availability of substrates at each time point.

  b=beμ⋅δt 

  exc=exc-vexbμ 

  vminex=-excb⋅δt 

in this work, the batch monoculture simulations of the single-gene knockout e. coli strains are performed using the in silico metabolic network of e. coli  by reed et al.  <cit> , which includes  <dig> genes and  <dig> biochemical reactions. of the  <dig> single-carbon source conditions described in the work of covert et al.  <cit> ,  <dig> carbon sources are examined in this work since  <dig> of the  <dig> conditions did not allow the growth of any mutant or wild-type. the initial biomass concentration is set to  <dig>  gdw/lt. the initial concentration of the carbon source is set to  <dig> mmol/lt. oxygen, ammonia and other important inorganic metabolites are assumed to be in excess in the growth medium. the initial bounds of the uptake rates are also set in accordance to the work of covert et al.  <cit> . the time resolution  is  <dig>  h. maximization of the growth rate is used as the objective function of the optimization problem. a second optimization problem is also applied to minimize the enzymatic cost expressed by the absolute flux values under the constraint that the cell continuously operates at the maximum growth rate  <cit> . the glpk solver  <cit>  is used for solving the linear programming problems. simulations are performed using the cobra toolbox  <cit> .

modelling bacterial batch co-cultures using stoichiometric models
building upon the existing dynamic fba model, which describes batch  monocultures  <cit> , we have developed a metabolic model capable of describing the co-growth of different cell-competitors in a shared batch culture  <cit> . as in monocultures, the proposed model assumes that cells and nutrients are distributed homogeneously throughout the growth medium and that the primal nutritional resources as well as the secreted metabolites can be used by the cells, which allow the development of cross-feeding interactions within the heterogeneous population. contrary to previous stoichiometric models  <cit> , the different cells are not modeled to operate towards a collective goal, such as the maximization of the community growth. instead, each different cell is assumed to maximize its individual growth.

the initial biomass concentration  of each stain-competitor as well as the initial concentrations of the substrates  in the growth medium are given. at each time interval the flux distribution , which optimizes the growth rate μi is calculated for each strain i independently solving the optimization problem described by the equations  <dig>   <dig>   <dig> and  <dig>  equations  <dig> and  <dig> show how the biomass concentration of each strain  and the substrate concentrations  of the medium are updated at each time interval. the current availability of the substrates and the bacterial population determine the uptake bounds of the exchange fluxes as shown in equation  <dig>  the simulation terminates when none of the strain-competitors can grow further in the shaped medium, which usually corresponds to the phase of nutrient depletion. if the population consists of identical cells, the multi-competitor metabolic model is reduced to the existing dynamic fba model  <cit> . it should be noted that competitors in our model can also represent different species, assuming the corresponding genome-scale metabolic networks are available.

  bi=bieμi⋅δt 

  exc=exc-∑ivexibiμi 

  vminex=-excδt⋅∑ibi,∀i 

in this work, communities consisting of two or more e. coli strains are simulated under different carbon conditions in batch co-cultures, utilizing the aforementioned metabolic model. to allow comparison between monocultures and co-cultures, the growth settings of these simulations are the same with those described for monocultures and the initial biomass concentration of  <dig>  gdw/lt is equally distributed to the different strain populations, unless stated otherwise. the heterogeneous population is mainly studied with respect to its growth benefit and the involved cross-feeding interactions. the metabolic interactions between strains can be identified through the flux time profiles of the exchange reactions when co-growing on a given environment, whereas the concentration of the nutrients indicates the exploitation  of the common growth medium. the single-carbon-source conditions that are examined in this study for the identification of efficient strain communities include glycolate, acetate, glycine, glucose, pyruvate and melibiose.

diversity graph construction
metabolic interactions that involve the exchange of intermediate metabolic products are assumed to occur only if the metabolic capabilities of the members of the bacterial population differ with respect to by-production. based on this assumption, a graph representation is constructed in order to reflect the metabolic variability with respect to by-production within a pool of genetically different cells  <cit> .

specifically, single-gene knockouts are applied on the e. coli metabolic network  <cit>  to generate the pool of mutants. the growth of each e. coli strain in a single-carbon-resource batch culture is simulated using the dynamic fba method described previously for monocultures. the nodes of the metabolic diversity graph correspond to viable strains in a given growth condition. for each viable strain i, we construct a feature vector, which consists of the maximum concentration values  of each secreted metabolite  that is produced during its growth on a specific single-carbon environment. this vector is used as a metabolic blueprint for the potential interactions of the strain. as shown in equation  <dig>  for each pair of strains the relative difference of their feature vectors is calculated and the maximal difference over all byproducts is used as a weight for the interaction between them. according to the above definition, the edge weights in diversity graphs take values between  <dig> and  <dig>  where weights equal to  <dig> imply that the two strains are identical regarding by-production and weights equal to  <dig> imply that  one of the two strains provides a novel byproduct to the other strain. as the metabolic products of a strain depend on the growth environment, a different diversity graph is constructed for each single-carbon environment.

  wij=maxs)where cmaxis=max) 

the by-production efficiency is defined as the ratio of by-production intake rate to primal carbon resource uptake rate. as shown in additional file 1: supplement dg, the edge weights in diversity graphs also represent the maximal relative difference of by-production efficiency between strain pairs. this indicates that the diversity graph is independent of the initial concentration of the primal source, which allows a unique graph representation of the metabolic differences of the mutants for a given growth condition. furthermore, it implies that the diversity graph can also be estimated by the original, single time-step fba model, which accelerates the reconstruction of the diversity graphs.

diversity graph analysis
several graph-theoretic measures are applied in the diversity graphs to allow the direct comparison of the overall metabolic variability of e. coli strains under different carbon-source conditions and reveal biologically relevant properties such as the association between metabolic difference and its evolutionary trait. in this study, the graph-theoretic analysis is performed on the  weighted representations of the diversity graphs.

the definitions of the graph-theoretic measures used in this study, which include strength centrality, assortativity and clustering coefficient are given in additional file 2: supplement sa.

identification of strain communities
the composition of a metabolically interacting strain community can be assumed to consist of individuals with the potential to differently shape the given environment and provide each other with products of their metabolism. to ensure compositions of strains with different metabolic capabilities, each strain must be different from all the other strains. therefore, compositions of strains with different metabolic capabilities correspond to cliques  in a diversity graph . furthermore, the maximum clique size that can be found in a given diversity graph actually determines the upper bound of the metabolic diversity that can emerge in a population in a given growth condition under the specific genetic perturbations. the cliques are identified using the binary representation of the diversity graph, which is produced using a threshold of  <dig> . this threshold value indicates that connected mutants are relatively highly different in terms of their metabolic characteristics. in this work, cliques are identified using efficient, exact methods that have been proposed elsewhere  <cit> .

because of the genetic robustness and redundancy that is inherent in metabolic networks under single gene knockouts  <cit> , there are only few strains with novel metabolic capabilities. this metabolic redundancy is reflected in the diversity graphs and allows significant compression in the size of the graph. all strains with the exact same metabolic capabilities regarding by-production under a given initial environmental condition can be grouped together. more precisely, the structural compression maps all metabolically redundant nodes of the same connectivity  onto a super node. this compression can be used to accelerate the clique identification problem and it also allows the graph to be visualized by highlighting the nodes and interactions that actually produce the metabolic diversity of the system. although cliques are found using the compressed graph, they are then decompressed to be used in simulations.

growth efficiency
in this work, growth efficiency concerns the ability of a cell population to maximize its growth performance in a batch culture given an initial limited amount of resources. the growth performance of a cell population is measured with respect to the maximum  biomass concentration. if the cellular population consists of different cells, then the growth performance of the heterogeneous population corresponds to the total biomass concentration of the group, which is determined by the summation of the biomass concentration of each of the members of the group.

in cases of homogeneous, monoclonal cell populations, individual growth performances are compared with each other under the same initial conditions to determine the population with superior performance. to quantitatively describe superior performance in heterogeneous populations, we define the absolute and the relative benefit. if the group performance of an heterogeneous cell population, g, is superior to the performance of any  monoculture, mi, then the heterogeneous community under study is beneficial. we term this benefit 'absolute'. however, the condition of 'any' can be relaxed, so that the growth performance of a heterogeneous community is compared to the homogeneous performances of its corresponding community members. in this case we call the benefit 'relative'. the relative benefit indicates whether there is group benefit, that is, whether the group is more efficient as a whole than the efficiency of any of its members when functioning as individuals.

to measure benefit we use equation  <dig>  absolute and relative benefits differ with respect to whether the i elements correspond to all strains or only the members of the specific group. if the co-culture does not show improved growth relative to corresponding monocultures then the benefit is negative.

  benefit=)maxi 

RESULTS
for simplicity reasons, e. coli strains are henceforth named after the name of the gene that has been deleted.

centrality measures reflect the metabolic redundancy of e. coli and reveal unique phenotypes for each growth condition
diversity graphs are constructed in order to represent pair-wise differences in by-production between e. coli strains . each single-carbon-source growth condition corresponds to a different diversity graph. the node centrality  <cit>  is a local measure, which expresses the importance of a node in a graph with respect to its connections. in the diversity graphs, a highly central node indicates a mutant of considerably different  metabolic capabilities regarding by-production than the rest of the mutants. on the other hand, a non-central node corresponds to a mutant which exhibits similar  metabolic capabilities with most of the mutants of the graph.

the strength distribution of each diversity graph  shows that the majority of nodes  are non-central and only a few  have strength centrality greater than  <dig> , whereas nodes with intermediate centrality values are less than 10% of the graph. the network centrality measure  also indicates that most diversity graphs are highly centralized. these observations imply high metabolic redundancy and the presence of only a few mutants with unique metabolic capabilities.

furthermore, as shown in additional file 2: supplement sa the high values of the network clustering coefficient, which is defined in  <cit>  to reflect the cliquishness of a neighborhood in a graph as well as the dependence between clustering coefficient and centrality, show that central nodes are highly connected with each other forming a highly clustered area in the graph and that the redundant mutant group is part of this highly connected area. as a result, central mutants and their connectivity reflect the metabolic diversity regarding by-production of e. coli strains and play an important role in the formation of communities, which consist of metabolically different strains.

the diversity graph of adenosine comprises an exception, as it exhibits a broader strength centrality distribution than the rest carbon-source graphs and the lowest network strength-centrality of value close to  <dig> , thus implying a system of higher metabolic variability. the diversity graphs of acetate and glycolate, on the other hand, are star networks consisting of exactly one central node, which indicates growth conditions with very high metabolic redundancy. this finding is expected as these two carbons are also by-products of other carbon-source growth conditions. specifically, acetate and glycolate are the most frequently observed by-products across the carbon-conditions tested  and when glycolate is the main source, the central mutant of the graph is the only mutant that produces acetate and vice versa.

genome-scale deletion phenotype data for the bacterium e. coli have shown that the metabolic network is inherently robust to genetic perturbation and environmental changes with respect to cell viability and maintaining vigorous growth  <cit> . in addition to these observations, the centralized topology of diversity graphs further implies that the cellular response to single-gene knockouts rarely affects by-production.

the binary graph representations of two examples  after structural compression that maps all metabolically redundant nodes of same connectivity onto a super node  are shown in figure  <dig>  this mapping highlights the metabolically unique  strains and their connections. the metabolic reactions as well as the metabolic subsystem in which the deleted genes participate can be found in table  <dig> for most of these highly central strains.

'nadh dehydrogenase menaquinone  <dig>  <dig> protons'
'glycine cleavage system'
'folate metabolism'
'alanine transaminase'
'glycine hydroxymethyltransferase'
'cofactor and prosthetic group biosynthesis'
'glycine and serine metabolism'
the upper bound of metabolic diversity
polymorphic communities consisting of strains with different metabolic capabilities correspond to cliques in the diversity graph . the maximum clique size of a diversity graph reflects the actual number of the different metabolic patterns regarding by-production and determines the upper bound of the metabolic diversity that emerge in a given growth condition under single-gene knockouts. as shown in figure  <dig>  the maximum clique size varies between  <dig> and  <dig>  the minimum value is observed in the diversity graphs of acetate and glycolate, due to their star topology and the maximum value corresponds to the carbon condition l- asparagine.

since the metabolic variability is defined with respect to by-production, the total number of the metabolites that are by-produced bounds the maximum metabolic variability that can emerge in a given growth condition. theoretically, if n is the number of by-products and if we consider a metabolite as only produced or non-produced by a strain, ignoring its concentration, then the total number of different subsets is 2n. however, as shown in additional file 2: supplement sa the number of different subsets, which define the maximum clique size in a given growth condition is considerably less than 2n. this is due to the fact that the metabolic pathways are coupled so that activating a pathway that leads to the production of a metabolite affects the production of other metabolites as well.

cliques are found using the binary representation of the diversity graphs, which is produced using a threshold of  <dig>  in the corresponding weighted graph . however, as shown by the edge weight distributions , the resulting graphs are very robust with respect to the choice of the threshold value.

the evolutionary trait of metabolic diversity as reflected in assortativity coefficient
two strains are heavily connected in the diversity graph if they are highly different with respect to their by-products. the assortativity coefficient  <cit>  is used in this work to explore the relation between metabolic difference and its evolutionary trait. specifically, an index is assigned to each strain in the diversity graph to reflect how conserved the corresponding deleted e. coli gene is across different organisms. in this study, we use the evolutionary retention index  to express gene conservation as introduced in the study of gerdes et al.  <cit> . a graph is then characterized as assortative  by eri if strains of similar  conservation value in their corresponding genes are preferably connected with each other.

as shown in additional file 2: supplement sa, the diversity graphs of most carbon conditions tend to be disassortative by eri. this implies that deletions of non-conserved genes tend to generate strains that are metabolically similar with each other regarding their by-products and only if one of the two strains is related with deletion of a highly conserved gene, are more likely to be metabolically different. this further indicates an evolutionary difficulty towards the establishment of polymorphism. furthermore, considering that most edges in the diversity graph are between metabolically redundant and metabolically unique strains, this finding also implies that these two classes of strains tend to correspond to deletions of genes with different conservation values.

consistent metabolic behaviors across growth conditions
it was previously shown that the diversity graphs are highly centralized consisting of many nodes of low centrality and a few nodes of high centrality. the frequency of appearance of the central and the non-central nodes across the carbon conditions is shown in the left panel of figure  <dig> . central nodes represent strains of unique metabolic capabilities regarding by-production and comprise the core of strain communities. a subset of these structurally important mutants consistently appears in most of the examined growth conditions, as shown in the left panel of figure  <dig> . the reactions and the metabolic subsystem, in which the deleted genes of the most frequent central strains participate, are presented in table  <dig>  on the other hand, non-central nodes correspond to strains of common, redundant metabolic capabilities regarding by-production. as shown in figure  <dig>  environmental-specific redundant mutants often have a central role in other growth conditions and vice versa. intuitively, one would expect that the frequently-appearing unique phenotypes might reflect deletions of essential and evolutionary conserved genes across different organisms, whereas the opposite must be true for frequently-appearing redundant phenotypes. next, we investigate this hypothesis.

we define the gene conservation density as follows. we use a resolution step of  <dig> mutants and measure the percentage of mutants, in which the corresponding deleted genes have a conservation value  above  <dig> . as shown in the right panel of figure  <dig>  the environment-invariant hubs correspond to deletions of relatively more evolutionary conserved genes than the environmental-specific hubs. in particular, approximately 60% of the consistently appearing central mutants are related to the knockout of a highly conserved gene in contrast to the environment-specific mutants of which approximately 30% correspond to highly conserved genes. the correlation coefficient between the gene conservation density and the frequency of appearance of the corresponding mutants is  <dig>  . on the other hand, consistently redundant mutants are mostly derived from deletions of non-highly conserved genes. specifically, 50-90% of the genes involved in the environment-specific mutants are evolutionary conserved, whereas only 20-30% of the genes are conserved in the environment-invariant redundant mutants. the correlation coefficient between the gene conservation density and the frequency of appearance of the corresponding metabolically redundant mutants is - <dig>  .

to conclude, most environment-invariant central mutants correspond to deletions of highly conserved genes. this observation seems controversial to the evolution of polymorphism, which necessitates the presence of unique phenotypes, because if a gene is evolutionary conserved, the mutant derived from its deletion is expected to be evolutionary unstable. however, it suggests that among all potential communities only those consisting mainly of mutants that are environment-specific are likely to evolve.

beneficial interactions and growth-efficient strain communities
previous results based on an exhaustive, computational evaluation of all pairs consisting of the wild-type and a single-gene knockout mutant have revealed several pairs of improved growth relative to the corresponding monocultures  <cit> . an update of these results is shown in additional file 3: supplement fa. in this work, the diversity graph construction is used to identify compositions of strains with different metabolic capabilities regarding by-production. using the developed multi-competitor metabolic model , the growth of these strain communities is simulated under several single-carbon conditions, which include glycolate, acetate, glycine, glucose, pyruvate and melibiose. as defined in the methods section, the term relative benefit is used when the growth performance of the group is compared with the growth performance of the monocultures of each individual member mutant, whereas the term absolute benefit is used when the co-culture is compared with each monoculture in the diversity graph.

the growth simulations reveal the existence of several beneficial strain communities, which show improved growth relative to their corresponding monocultures. beneficial metabolic interactions can be either bi-directional, where the exchange of essential nutrients takes place in both directions, or they can be unidirectional where only one benefits from the coexistence and the other plays the role of a mere provider, an altruist. an example of pure altruism is observed when the strains b <dig> and b <dig> co-grow on limited glucose. both these mutants consistently appear as central nodes in the diversity graphs . when b <dig> grows on glucose, it produces the metabolites acetate, glycolate and formic acid, which apart from glycolate it is incapable of consuming. the exchange flux rate time profiles show that the mutant b <dig> in co-culture exploits the available metabolites . in particular, acetate and formic acid are consumed after glucose is exhausted, while glycolate is consumed in parallel with the consumption of glucose. the involved cross-feeding interactions are illustrated in figure 5c. the growth performance of the pair is examined under different initial population ratios as well. as shown in figure 5a, maximum group performance of the co-culture is achieved with an initial population composition of 1: <dig> for b2779:b <dig>  where the relative benefit equals to 23%.

another beneficial community is the co-culture of b <dig> and b <dig>  on limited glycolate. this pair in particular performs better than any monoculture in the diversity graph exhibiting absolute benefit equal to 8% . the mutant b <dig> is the most frequently appearing mutant-hub across all carbon-source conditions . when this mutant grows as monoculture on limited glycolate, it exhibits poor growth performance  compared to the growth performance of the wild-type population. as illustrated in figure 5f, the metabolic interactions are bi-directional and correspond to the exchange of acetate and formic acid. these products are consumed simultaneously with the metabolism of glycolate . an increase in the maximum growth rate of both mutants is observed during the by-product exploitation period . the growth performance of the pair is also examined under different initial population ratios. as shown in figure 5d, maximum group performance  is observed with an initial population composition of 1: <dig> for b3708:b <dig>  which occurs when the two mutants exhibit equal final frequency in the population .

efficient strain communities are not limited to pairs. an example is the triplet consisting of the strains b <dig>  b <dig> and b <dig> when growing on limited pyruvate. the nutrients that are exchanged between them include glycine, glycolate, acetate and formic acid. the corresponding flux profiles of each strain in the community are shown in additional file 3: supplement fa. the specific community is  <dig> % more efficient than the most efficient monoculture, which is the strain b <dig>  the by-products glycolate and glycine are consumed respectively by the strains b <dig> and b <dig> during the metabolism of pyruvate. this parallel consumption of the by-products with the main resource increases the maximum growth rates of both mutants . acetate and formic acid, on the other hand, are consumed after the depletion of pyruvate. furthermore, beneficial cross-feeding interactions can occur either directly or indirectly. the indirect metabolic interactions imply that a bacterial community can be beneficial even if not all of its pair-wise relations involve the exchange of nutrients, which demonstrates the importance of studying group-wise metabolic variability. an example is observed in the triplet b <dig>  b <dig> and b <dig> when growing on limited pyruvate . the mutants b <dig> and b <dig> do not interact. furthermore, each of the constituent pairs of the triplet is non beneficial . however, the coexistence of all three strains becomes beneficial with relative benefit equal to  <dig> %.

simulations show that no strain community exhibits improved growth unless metabolic interactions are involved within the community. thus, although metabolic interactions are possible to take place without a beneficial outcome, they are indispensable within strain communities in order to perform efficiently under conditions of resource competition.

beneficial communities of relative benefit performing better than their corresponding monocultures are found in all conditions we have examined . however, strain communities of superior growth performance exhibiting improved growth relative to any monoculture in the diversity graph  are less frequent. the existence of efficient strain communities of improved growth relative to any tested monoculture implies that in specific growth conditions, the involved metabolic pathways are coupled in a way that a single optimal mutant is incapable of fully utilizing the environment. in that case, among all single-gene knockout mutants simulated to grow as monocultures, none is capable of combining maximum ability to metabolize the main source with maximum ability to metabolize essential products of the metabolism in the specific conditions.

metabolic opportunities and growth predictability
the growth performance of a strain community depends on the growth properties and metabolic capabilities of the strains  as well as the interactions between them. metabolic interactions can alter the biochemical phenotypes of the participating strains allowing novel, unexpected phenotypes to emerge.

a strain community is considered unexploited regarding by-production if cross-feeding interactions either do not occur or do not fully exploit the metabolites produced in co-culture. an unexploited community gives the opportunity to a new strain to utilize the available metabolites. one such example was discussed previously and concerns the community consisting of the strain b <dig>  b <dig> and b <dig> when growing on limited pyruvate. among these strains, b <dig> and b <dig> do not interact, while the strain b <dig> both exploits the metabolites produced by these strains and provides by-products that these two strains can metabolize.

interestingly, the growth performance of a strain community of any size linearly depends on the mean of the growth performances of its constituent strain pairs  as long as each of these pairs interact. in other words, under these constraints, the community can be considered to consist of non-interacting, independent sub-communities, so that by knowing the growth performances of these sub-communities we can predict the growth of the whole community. however, as more complex metabolic interactions are developed within polymorphic populations, new phenotypes that were not expected before are likely to emerge. as the composition of the communities becomes more complex, consisting of more specialized mutants and allowing more obligatory relations to be developed between them, predictability of the growth performance of the communities from their simplest constituents vanishes  <cit> .

discussion and 
CONCLUSIONS
most microbes live in communities and usually rely on metabolic interactions to increase their supply for nutrients and better exploit a given environment  <cit> . several interesting examples presented in  <cit>  show synergistic interspecies interactions developed in oral microbial communities. in addition, long-term evolutionary experiments on initially monoclonal bacterial populations have shown that the bacterial population rapidly evolves to polymorphic populations even in simple, homogeneous, single-limited resource laboratory environments. the evolved strains are considerably different from each other with respect to their metabolic capabilities and it is shown that metabolic interactions between them take place  <cit> . the emergence of metabolic diversity and the development of metabolic interactions play an important role in the evolution of bacterial populations as they dynamically shape the growth medium.

using a graph representation, this work has first explored the metabolic variability regarding by-production among single-gene knockout e. coli strains in various single-carbon source conditions. the diversity graph maps in a pair-wise manner the genetic to metabolic variability with respect to by-production and allows the identification of strain communities  with the potential to exchange products of their metabolism in a given growth condition. a different diversity graph has been constructed for each single-carbon environment. the properties of the diversity graphs reflect the inherent high metabolic redundancy of the cell to single-gene knockouts, reveal mutants of unique metabolic capabilities regarding by-production and show an evolutionary difficulty towards the establishment of polymorphism. furthermore, findings of this work suggest that polymorphic communities consisting of strains specifically adapted to a given condition are more likely to evolve.

in addition to the diversity graph and its structural analysis, a developed genome-scale metabolic model has been used to describe the co-growth of different cells in a batch culture. the proposed multi-competitor metabolic model was based on the existing dynamic fba model  <cit> , which successfully describes monoclonal bacterial population in a batch culture. contrary to previous multi-cellular stoichiometric models  <cit> , the different cells have not been modeled to operate towards a collective goal, such as the optimum growth of the group. however, the proposed model assumes that the different cells grow in a spatially homogeneous environment sharing nutrients and maximizing their growth rates in accordance to their metabolic capabilities. under these assumptions, the model has been utilized in order to test the hypothesis of whether strain communities can be more efficient than their corresponding monocultures and predict the range of metabolites that are exchanged. the growth simulations revealed many strain communities that were beneficial, namely performed better as a whole than their individual parts. moreover, the existence of efficient strain communities performing better than any examined monoculture were also identified in some growth conditions. this finding implies that in some growth conditions, the involved metabolic pathways are coupled in a way that a single optimal mutant is incapable to fully utilize the environment. in addition, it was observed that metabolic interactions took place without necessarily leading to a beneficial outcome. however, they were indispensable within strain communities in order to perform beneficially under conditions of resource competition. in other words, the metabolic interactions are the necessary  condition in order for a group to perform beneficially. since the initial population frequency of the competitors as well as the amount of the main source that is initially provided for growth play an important role in the growth performance of the communities as they determine the partitioning of the resources, it is expected that the beneficial communities are not limited to our observations even within the given search space.

the construction of diversity graphs as well as the evaluation of the e. coli strain communities were built upon the genome-scale metabolic network reconstruction of e. coli  <cit>  as well as the constraints and assumptions of the existing dynamic fba model  <cit> . the predictive accuracy of the proposed methodology depends on the accuracy of the genome-scale metabolic reconstructions and their reliable prediction of the transport fluxes under genetic perturbations and growth conditions  <cit> . in this study, all simulations were performed on a single-limited carbon resource. however, during growth several metabolites can be produced, which serve as secondary resources for growth. thus, the initially simple environment becomes a mixed-substrate growth medium where metabolic interactions can take place. in batch cultures containing a mixture of carbon sources, microbial cells utilize the substrates either sequentially, a phenomenon known as diauxic growth, or simultaneously depending on the medium  <cit> . the metabolic model of varma and palsson  <cit>  for monocultures accurately predicts the reutilization of acetate in glucose batch cultures. in our simulations, both sequential and simultaneous substrate consumption examples are predicted, the accuracy of which remains to be experimentally validated. efforts to model mixed-substrate growth based on the fba framework have been proposed such as the work of beg et al.  <cit> , which proposes an improved fba model that incorporates a solvent capacity constraint for the enzymes inside the cytoplasm. alternatively, the incorporation of regulatory constraints on the fba model has been also suggested  <cit>  to improve the accuracy of substrate uptakes in a complex medium.

other sources of genetic to metabolic diversity such as multiple gene deletions or differential expression of certain genes can also contribute as nodes to the graph reconstruction and as potential strain-competitors in communities, beyond the single-gene knockout strains. metabolic interactions across different species can also be analyzed under the framework proposed here, as more genome-scale metabolic network reconstructions are available. the results presented in our work are not primarily focused on evolutionary stable communities that may arise from cross-feeding. the method aims to identify and describe metabolic interactions between strains that co-exist in a batch culture. further analysis regarding the evolutionary stability of the strain communities and their survival from 'cheats', who only gain the benefit from others  <cit> , is particularly interesting.

competing interests
the authors declare that they have no competing interests.

authors' contributions
et and mr conceived the study, igt conceived the graph theoretic analysis, pp and mr participated in the coordination of the study and contributed to the interpretation of data and to the writing of the paper. et conducted all experiments and wrote the paper. all authors read and approved the paper.

supplementary material
additional file 1
supplement diversity graph construction. supplemental material showing analytically whether the construction of the diversity graph depends on the initial amount of the main source in a batch culture.

click here for file

 additional file 2
supplement structural analysis. supplemental material providing further information regarding the definition and application of graph-theoretic measures on the diversity graphs.

click here for file

 additional file 3
supplement functional analysis. supplemental material including additional information on the simulations of strain communities in batch cultures under several growth conditions.

click here for file

 acknowledgements
the research is supported by the greek general secretariat of research and technology under the pened 03ed <dig>  grant "development of computational methods for genomic data analysis". the authors thank the anonymous reviewers for their useful comments and suggestions.
