BACKGROUND
why many animals live and forage in groups has long been a topic of interest  <cit> . historically, the two main explanations for the evolution of group foraging are  increased food finding efficiency and  a response to predation, especially in mammals and birds  <cit> . the present evidence, based on information sharing  and producer scrounger  models  <cit> , both provide support for and against increased food finding efficiency due to grouping, thereby bringing its relevance for the evolution of grouping into question  <cit> .

for some information sharing models it is assumed that individuals find food patches, neighbors join them on those patches, and that all individuals attain an equal share of patch contents  <cit> . here the per capita patch finding rates in groups are assumed to be equal to those of solitary foragers. results from these models predict that the decrease in the proportion of a patch eaten per capita due to grouping, cancels out any gains in patch finding success due to grouping  <cit> . however, if patches are highly ephemeral and rare, or individuals leave patches after becoming satiated , grouping can be shown to increase food finding rates  <cit> .

one assumption in information sharing models is that searching for food and monitoring whether neighbors have found food is fully compatible   <cit> . this allows individuals to instantaneously benefit from patches detected by others, while not foregoing any opportunities to join their neighbors while searching for their own food. however, if searching and monitoring are incompatible, as assumed in producer-scrounger  models  <cit> , then foraging groups can suffer from information parasitism  <cit> . scroungers do not search and produce information, because scroungers only monitor neighbors and take advantage of the search effort of others . in is models this cooperative dilemma is ignored. ps models suggest that scrounging will inevitably evolve in foraging groups, which will reduce the overall patch finding rate of groups  <cit> , and makes that it is unlikely that group foraging can lead to greater food finding rates. instead, it has been suggested that because grouping can reduce the variance of food intake, group foraging could be a risk-averse foraging strategy  <cit> .

another assumption in is models, is that the per capita patch finding rates in groups is equal to those of solitary foragers, i.e. patch finding rates in groups scale linearly with group size  <cit> . however, the convergence in space of individuals due to grouping likely increases overlap in areas searched, reducing per capita patch finding rates in groups  <cit> . moreover, various factors such as reduced information sharing in groups, interference, and competition, could further reduce food finding efficiency in groups  <cit> . indeed, a more recent study already directly assumes reduced patch finding efficiency in groups  <cit> . 

in apparent contradiction to the assumption that group foraging will lead to reduced patch finding rates, an interesting simulation study shows that group foraging can evolve in patchy environments  <cit> . wood and ackland  <cit>  use a spatial agent-based model where grouping evolves through inherited changes in local individual interactions that lead to self-organized grouping. in their model, patches are aggregations of food items, and such modeled environments are referred to as "continuous" patchy environments  <cit> . patches therefore exist, and can be detected, only when there are food items aggregated at a certain location. in such environments, staying in a patch in order to deplete it, is difficult, especially if food items can only be detected very locally. shore birds, for example, often probe for underground prey and face obvious visibility constraints when foraging  <cit> . therefore, food patches cannot be directly observed and individuals can very easily leave a patch without realizing it. in optimal search theory , strategies have been proposed where individuals conduct intensive searching upon finding a food item, and switch to extensive search after not finding food for a while  <cit> . such a strategy allows search to become concentrated in the right areas and allows a patch to be detected, by so called area-concentrated search  <cit> . in contrast, in is and ps theory, patches are assumed to be discrete and once detected can be fully depleted .

if patches  are difficult to detect and deplete, the assumptions made in is and ps models, about how individuals share information and patch contents, are unlikely to hold: it becomes unclear what information individuals and groups have access to, and what proportion of a patch individuals can deplete. instead, if patchiness exists on a scale that is beyond the local perception of individuals, then grouping may play a role in cooperatively sensing, detecting and depleting patches. various non-evolutionary simulation studies have shown that aggregates of individuals can collectively sense the environment on a scale that exceeds individual-level perception, from photo- and thermo-taxis in dictyostelium amoebae  <cit> , groups sensing concentration gradients  <cit> , to cumulative cultural diet improvement in group foragers  <cit> . in wood and ackland's model such processes could also be at work  <cit> .

here we study the evolution of grouping tendencies of foragers in environments varying in patchiness and ask: can group foraging evolve in environments where there are patterns of resource availability that extend beyond the local perception of individuals? like wood and ackland  <cit> , grouping is not directly predefined, but evolution of grouping parameters could lead to different kinds of grouping through self-organization. compared to wood and ackland, we impose a stronger local constraint on food detection range, to specifically focus on how local information processing can become scaled up through grouping. moreover, we study overlapping generations, so that we can study evolution in environments with existing population and ecological structure. our population is not fixed in size, but grows relative to replenishing resources, which means that darwinian fitness is always relative and emerges from competition over finite resources. from an evolutionary point of view, this means that we study the origin of novel social phenomena and their side-effects. this is possible because predefinitions are only made on an individual-level, while group-level processes can emerge via self-organization. these group-level processes can then potentially generate novel selection pressures. we then study if, how and why grouping evolves, specifically focusing on patch detection and depletion, types of grouping, and foraging efficiency. we consider this study as a baseline for models with more elaborated individual-level behavior and more detailed environmental structure.

using this model we show that grouping evolves to increase foraging efficiency by generating group-level sensing of food patches in order to "stay in a patch" to better deplete it. group foraging leads to a change in niche specialization, which is what allows grouping to generate enhanced foraging efficiency.

methods
we use an individual-based model which consists of  an environment with food,  foraging behavior,  grouping behavior and  reproduction and mutation. this extends our model on solitary foraging  <cit>  with grouping behavior. below we give a model summary which is sufficient to understand our results . we organize our description in a "spatio-temporal scaling section" which sets the context in which we evolve behavior, described in an "evolvable behavior" section.

specifications designated by *() derive from explicitly chosen parameter values, giving  <dig> direct specifications and  <dig> derived specifications .

spatio-temporal scaling
environment
the environment is a 2-dimensional  <dig> by  <dig> meter continuous space , which is large enough to implement a variety of resource distributions and supports a viably evolving population of about  <dig> individuals . each year is  <dig> days, and for each day we consider "daylight" . individuals and resources can be positioned at any given location. for convenience we place resource items on intersections of a  <dig> by  <dig> meter lattice . we keep the total amount of food constant and only vary the distribution of resources, with the following classes of patchiness:  uniform ,  low ,  medium   high ,  big patches . patches are randomly placed in the environment, and all food items of a patch appear at the same time each year. appearance times of patches vary randomly throughout a year. food items are depleted once eaten, and remain depleted until that patch re-appears the next year. . we run simulations for  <dig> years which is  <dig> , <dig>  time steps , where about  <dig> individuals make decisions and execute behavioral actions.

local information processing
food can be detected up to  <dig> meters and individuals must therefore move around to find food. individuals cannot directly observe larger scale patterns of resources. the minimal time interval , defines a maximum movement speed of  <dig> meters per hour. the maximal distance at which individuals can detect each other  is such that the world is big enough to make grouping difficult  and allows a clear distinction between solitary and grouping behavior. this range is not unreasonable for many foragers such as primates. individuals have a set of behavioral actions that take time, and are sequential. the individual which is next to execute an action is the one with the shortest time left to complete an action.

reproduction and population
individuals need to find food to gain energy, and their birth interval  depends on energy intake rate. energy per food item, energy metabolism, and energy to give birth are such that the inter-birth interval is in the order of months to years. individuals can live for maximally  <dig> years, which covers several reproductive events. patches are depleted in the order of hours-days, so individuals need to visit many patches within a reproductive cycle. reproductive success is therefore dependent on how individuals react to the full scale of environmental patterns. the forager population grows until resource depletion reaches the point where births replace deaths . competition for resources is therefore generated.

"genes", mutation and natural selection
the parameters defining decision making, behavioral actions and grouping tendencies  are inherited as "genes" by offspring, with some mutational error . this genetic variation and variation in foraging success , in combination with competition for resources, generates natural selection.

the complete set of model specifications defining the scaling context are given in table  <dig>  note that various higher-level specifications are defined in terms of smaller-scale specifications, reducing the overall dimensionality . we expect parameter combinations that satisfy the qualitative relationships of these parameters to give similar results. nonetheless, the parameter space is too large to address here, and like any model study we accept that there is a set of invariant assumptions  that set the context in which our analysis takes place .

the value of mutated genes is drawn from a normal distribution about the mother's gene value. the standard deviation of this normal distribution is scaled ) relative to what is considered a reasonable range for the parameter. the maximum of durations is imposed due to how the model was programmed, but is high enough not to affect the results. tmin is the minimal time interval .

evolvable behavior
foraging
to search for food, individuals have a simple decision making algorithm and a set of behavioral actions , which can occur in a given sequence . we initialize simulations with parameters evolved in solitary foragers  <cit> , which cause individuals to alternate move and foodscan  . if individuals find food, individuals eat, or movetofood if food is out of reach. after eat, individuals do foodscan again . for an overview of all evolvable parameters see table  <dig>  in our simulations, foraging parameters remained approximately on initial values, indicating that grouping did not significantly feed back on foraging parameters .

grouping
during move actions, individuals can change direction in relation to the position of neighbors, which allows grouping behavior. we base evolvable grouping rules on repulsion-alignment-attraction models which focus mainly on schools of fish and flock of birds  <cit> . we have adapted our model in terms of what we consider reasonable for group foragers such as primates. in our case grouping works as follows :

 when there are more than nr neighbors in the repulsion zone zr, individuals turn away from those neighbors with maximal angle ar towards a preferred direction d→i given by:

  d→i=-∑j≠inrzr→ij∑j≠inrzr→ij 

where r→ij=∕|| is the unit vector in the direction of neighbor j, while p→i is the position of individual i, and nrz is the number of neighbors in the repulsion zone.

 otherwise , individuals turn towards individuals in a larger attraction zone za and the average direction of individuals in an alignment zone zl with maximal angle aa, where the preferred direction is:

  d→i=∑j≠inar→ij+ ∑j≠inlv→j∑j≠inar→ij+ ∑j=inlv→j 

where nl is the number of individuals between the repulsion and alignment zone, na is the number of neighbors between the repulsion zone and attraction zone, and v→j is the unit direction vector of neighbor j. if the preferred direction is less than the maximal turning angle , then the individual only turns up to its preferred direction.

we included the tolerated number of neighbors parameter, nr, to allow for greater regulation of group size. thus we assume that forager grouping tendencies can be regulated by how many neighbors an individual has. since we include "pause-travel" foraging behavior, where individuals stop to search for food and eat, we do not consider that movement speed restricts the angle with which individuals can change direction . the different turning angles  then represent an intensity of response to different social contexts, in this case crowding/proximity and isolation. on the other hand, in order to reduce the number of evolving parameters, we fixed zl and set the attraction zone to overlap with the alignment zone to allow the evolution of za <zl and zr >zl. aligning to neighbors without attraction is therefore not possible. we tested the implications of this simplification, by running additional evolutionary simulations in a model where zl could evolve and did not overlap with za, and za started from zl . we obtain qualitatively similar results with this model indicating that our results are robust to this change in grouping rules . the parameter range of the more traditional grouping models is a subset of the parameter range of this latter model, which implies that our model allows for a larger range of evolutionary possibilities. moreover, we do not explicitly include noise in our model . we tested the implications of this and found that our results were robust to the addition of noise .

analysis
we ran  <dig> evolutionary simulations for  <dig> years for each of the  <dig> environments. we then identified evolved genotypes by conducting ancestor traces on evolutionary simulations starting with the final population and backtracing to the beginning. we extract ancestors from the end of the simulation  for all simulations and plotted distributions of different parameters to identify trends and relationships. we did not take the final populations , in order to exclude recent mutants which do not necessarily reflect selected genotypes. we implemented evolved parameters and visually inspected behavior of individuals by simulation and identified foraging and grouping patterns. to study why parameters evolved to certain values we used shorter "ecological" simulations  and invasion simulations . ecological simulations allowed us to study how evolved genotypes foraged and interacted with a given environment. invasion simulations allowed us to study whether and how a given genotype could invade a population of another genotype, and how they compare in fitness. for speed reasons we used simulations with half the field size and population. we ran  <dig> simulations in each case and measured food intake, inter-patch travel, intra-patch visits, patch sizes , proportion of a patch depleted, and group sizes.

RESULTS
evolution of two distinct types of grouping in patchy environments
while no grouping evolves in uniform environments , we find that grouping evolves in sufficiently patchy environments . in patchy environments we observe two possible evolutionary outcomes:  groups with an average size of about 2- <dig> individuals  and  groups with a average size of about 1- <dig> individuals .

visual inspection reveals that the two evolutionary outcomes correspond to two distinct grouping styles:

 traveling pairs  and  opportunistic grouping, where individuals travel alone, but grouping rules allow individuals to aggregate towards feeding neighbors once individuals meet by chance on a patch , and split up again some time after leaving the patch . opportunistic grouping tends to become more prevalent with more extreme patchiness . the different types of grouping are clear in patch classes iii-v, but less clear in class ii, where grouping evolves later and there is less clear distinction between large and smaller groups .

the different grouping styles are achieved by evolutionary adjustment of the zone of repulsion  relative to the zone of alignment  and the angle of repulsion  relative to the angle of attraction . to determine evolved parameter values, we analyze data from ancestors between year  <dig> and  <dig> from different patchy environments sorted into the different grouping style classes . we focus on the three most patch environments  because of their strong evolutionary signal. patch class ii was left out because grouping emerged quite late, giving a weak evolutionary signal. in figure  <dig> we show the parameter values corresponding to the following different grouping styles:

• traveling pairs : these individuals have a relatively low angle of attraction , no angle of repulsion , and a repulsion zone smaller than the alignment zone . individuals therefore partially align when close enough, but ignore each other within the repulsion zone . moreover the number of neighbors tolerated in the repulsion zone  evolved to below  <dig> , which ensures that individuals are only attracted to others when alone, generating groups of  <dig> 

• opportunistic grouping  is either achieved by  "zig-zag": having a larger repulsion zone than alignment zone , or  "bouncing": having a larger repulsion angle than attraction angle . in both cases, individuals are either attracted or repulsed, but do not align. the rules ensure individuals can approach another individual when it is stationary , but causes splitting up when both individuals are moving. splitting up happens because individuals do not align, leading to amplifying repulse and attraction cycles .

why does grouping evolve?
grouping evolves because it allows individuals to deplete patches more efficiently. in figure 5a-c we show patch depletion per patch visit for different sized patches as generated by partial patch depletion. in both patch class iii and iv, traveling pairs are the most efficient patch depleters . as the environment becomes more extreme,  both grouping styles  converge and in large patches are roughly equally good. relative to solitary individuals, the effect of grouping is greatest with respect to intermediate sized patches.

grouping increases overall patch depletion because it allows better "sensing" of patches. as we have shown previously, solitary foragers can detect a patch as long as individuals find food and move from food item to food item  <cit> . we refer to this process as todo-based pattern recognition  <cit> , where individuals respond and orientate themselves locally by "doing what there is to do" . on longer timescales, this allows individuals to, at least partially, detect resource patches that are beyond an individual's local perception. this process breaks down as soon as individuals inadvertently move out of a patch, or if there are gaps in food presence, i.e. when patches are fragmented due to depletion . however, if individuals are in groups, it is possible that one of the group members is still in the patch and remains localized because it is eating. in that case, the grouping tendency of other individuals will cause them to approach the eating individual, and so automatically return to the patch and find more food . note that grouping is sufficient, individuals do not need to observe that the other individual is eating. grouping therefore allows individuals to indirectly, or implicitly, share information about the location of food in a patch. individuals can therefore prolong patch visit times and increase the proportion of a patch depleted.

groups of  <dig> are sufficient for enhanced patch sensing and depletion. in figure 5d-f we show group sizes in different patch sizes for the different environments. per patch visit we measure how many individuals were present . thus for traveling pairs overall, and for opportunistic grouping in more patchy environments, groups sizes in patches tend towards 2- <dig> individuals.  with such group sizes, patch depletion is already at 60-80% , indicating that there is not much room for larger group sizes to contribute to enhanced food uptake. in figure  <dig> we plot the per capita patch depletion  of individuals in different sized groups for patch classes iii-v for traveling pairs, where blue color is the lowest value and yellow is the greatest value. for each patch visit we record how many individuals are present, how much food is in the patch , and how much food is eaten by each individual. results reveal that group size  <dig> has the greatest overall per capita food intake when considering all patch size classes . solitary individuals have greater per capita intake for new unfragmented patches , but have a lower foraging efficiency overall. on the other hand, groups larger than  <dig> tend to reduce per capita uptake because food has to be shared amongst more individuals, undermining the benefits of grouping. this maximal average per capita food intake  for groups of two, corresponds well the evolved group size , i.e. the observed evolutionary attractor. a group size of two therefore optimizes the trade-off between benefits of grouping and reduced food intake due to sharing patch contents with more individuals. . groups size is therefore not limited by the specific grouping rules in our model.)

while traveling pairs  are usually with 2- <dig> individuals within a patch in all environments , opportunistic groupers  only increase in group size with more extreme patchiness . like solitary individuals , opportunistic groupers can only aggregate on patches by chance. such aggregation mainly happens when patches become increasingly rare . however, the patch dependent grouping of opportunistic groupers prolongs patch visits, allowing individuals to further accumulate group size in patches as compared to solitary individuals. thus, opportunistic groupers can better deplete patches. in section  <dig> in additional file  <dig> we show how this enhanced aggregation can work in a more simplified mathematical model. this simplified model also shows that as patches become sufficiently rare, opportunistic grouping can be as efficient, or more so, than traveling pairs, which is why opportunistic grouping evolves mainly in patch class v . our results therefore reveal the following rule of thumb: when patches are common, travel together because, when you next find a patch, you are unlikely to find someone to deplete the patch with. however, when patches are rare, you are likely to meet your next depletion partner at the next patch, so you don't have to bother traveling together. this also emphasizes that grouping does not evolve to enhance patch finding rates, but rather to "stay in patches" in order to deplete patches better.

the simplified mathematical model also implies that slower inter-patch travel due to grouping , may affect how the two grouping styles relate. however, opportunistic grouping should still arise if the efficiency of solitary and group travel is equal . indeed in our alternative grouping simulation model, where the alignment zone can evolve and individuals in groups evolve to move in parallel , opportunistic grouping also evolves, although less frequently . moreover, average group size is the same. the finding of two types of grouping and the average group size are therefore not dependent on a zig-zag mode of travel, but are robust and generalize to an increased degree of evolutionary freedom of grouping rules.

how does grouping evolve?
when a mutant genotype arises, its fitness depends on how it interacts with an existing population, both indirectly via environmental structuring , and directly via grouping. from ancestor traces we observe that in some evolutionary simulations when grouping first evolves, the grouping genotype actually forms pairs which frequently change direction . these genotypes are characterized by a large angle of attraction . later, smaller angles of attraction evolve, which lead to a more coordinated and symmetric "zig-zag" of individuals, causing the group as a whole to move straight . to gain further insight into this evolutionary process we use invasion simulations to study how individuals forming turning groups  and straight moving groups  invade populations of solitary individuals in patch class iii. similar results are obtained in the other patchy environments.

surprisingly, for the case of turning pairs  invading solitary individuals, we find coexistence on the single resource. in figure  <dig> we show details of a simulation where tpair individuals invade a population of solitary individuals. initially there are only solitary individuals , which obtain their food mainly from large patches . large patches are therefore rare and the world is filled with partially depleted patches . the first tpair individual invades after year  <dig>  and has its peak food intake from an intermediate patch size . initially, tpair individuals eat more, reproduce faster and invade , because these individuals can efficiently exploit intermediate-sized and small patches. solitary individuals are therefore out-competed on these patch sizes and their population declines. as a consequence the ecology changes:  the amount of food in intermediate and small patches declines , and  the amount of food in big patches increases . the latter is because tpairs turn a lot which makes them less successful at finding the rare large patches than solitary individuals . the increasing amount of food in large patches therefore makes the world increasingly favorable for solitary individuals, so that the relative difference in foraging success between grouping and solitary individuals balances out. at this point, solitary individuals obtain more food from large patches , while grouping individuals obtain more food from intermediate patch sizes  and both types coexist .

this coexistence is not evolutionarily stable, because groups evolve to move straight , allowing better finding and depletion of large new patches. niche differentiation with solitary individuals is therefore reduced, preventing coexistence . however, the coexistence brings into focus how niche differentiation is possible on a single resource through specialization on patches that differ in degree of depletion, or fragmentation . hence we can understand that spair individuals can outcompete solitary individuals because the shift in niche allows access to a larger set of resources: those in partially depleted patches.

since, it likely that perfectly straight moving pairs depends on the lack of noise in our model, we tested whether adding noise on the forward direction of move mattered. we did this by drawing a random turning angle from a normal distribution with a given standard deviation. for the latter we consider  <dig> ,  <dig>  and  <dig>  radians and ran  <dig> invasion simulations for each case. in all cases spairs outcompeted solitary individuals . noise therefore affects both solitary and grouping individuals and does not change the differences between them.

to explicitly reveal the fate of invading grouping individuals, we ran simulations where we compared solitary individuals , grouping individuals that only follow solitary individuals , and grouping individuals that only group with each other . we measured their per capita foraging efficiency when they compete together in the same environment. the results reveal that grouping individuals following solitary individuals , already have somewhat greater food intake rates than solitary individuals . since solitary individuals cannot gain any advantage by being followed, the grouping individual can be termed "selfish". moreover grouping individuals do not need to assort with other grouping individuals to have a selective advantage. however, with multiple grouping individuals, positive assortment emerges spontaneously, because grouping individuals mutually attract . this mutual attraction leads to enhanced foraging efficiency: two grouping individuals achieve greater foraging efficiency than grouping individuals following a solitary individuals . note that while the foraging efficiency of solitary individuals  and their followers  extend to below the point at which energy intake equals energy expenditure , this does not happen for the mutual groupers . thus we observe that when two "selfish" individuals get together, this can generate a mutually-beneficial system through the emergence of a synergistic process.

fitness now depends on 'group-level" information processing about the location of food to enhance food intake. thus during the invasion of grouping there is a transition from individual-level to multi-level information processing. novel selection pressures arise due to the group-level structure in the population and natural selection becomes a multi-level process. such a novel higher level selection pressure is revealed in the case of straight moving pairs  invading a population of turning pairs  . here selection acts on group-level turning: it selects individuals that are more often in groups that travel straight, even though on the individual-level everyone is turning  and group-level behavior is undefined. in this case, no assortment between the two types of grouping is needed: it is sufficient that spair individuals spend at least some time in straight moving groups, while tpair individuals cannot do so .

discussion
our results show that when individual-level sensing of a patch is difficult, grouping can evolve to generate a group-level sensing mechanism and increase foraging efficiency. while most group foraging theory focuses on the role of grouping relative to "patch finding rates"  <cit> , our results emphasize a role of grouping relative to "staying in a patch" in order to better deplete a patch. crucial for our results is the partial depletion of patches, because  it leads to a structured environment with many partially depleted patches of different size, and  this allows grouping to "find its niche".

partial patch depletion is a direct result of our focus on local information processing: the local range of detecting food items is limited relative to the size of patches. due to these individual-level sensing constraints there is a build up of resources in partially depleted patches. grouping releases individuals from these constraints by generating patch sensing on a larger spatial scale, which allows grouping individuals to access the resources accumulated in partially depleted patches. this shift in niche due to grouping is explicitly revealed by the co-existence between solitary individuals and turning groups. thus partial patch depletion generates novel niche opportunities, in a process related to niche construction  <cit>  or niche creation  <cit> . in particular, we observe how niche differentiation on a single resource can occur through specialization of the spatial scale of resource patterns that individuals can detect. these results have parallels with models that show that animals of different body size can co-exist on a single resource because of different scales of perception  <cit> . the finding of  coexistence is crucial for revealing what niche differentiation means in our model, and therefore explains how grouping can lead to enhanced foraging efficiency . moreover, these results suggest an exciting potential for differences in sociality between species playing a direct role in niche differentiation. 

the evolved grouping behavior is cooperative in the sense that it leads to a mutually-beneficial outcome , and is therefore distinct from competition. this is possible due to an implicit sharing of information that self-organizes from an interaction between foraging, grouping and the environment. this happens as follows: eating individuals provide information about spatially aggregated resources items. any grouping neighbors that have not found food automatically approach the feeding individual, without needing to observe that it is feeding. other food items in the vicinity can then be found. thus by means of grouping, the local availability of food can be implicitly  detected by using information generated by feeding individuals. important is that the success of this information sharing depends on its duration. therefore, following a solitary individual does increase a grouping individual's foraging efficiency, but this increase is limited because patch visit durations are cut short if the solitary individual leaves the patch. this happens because there is only a one-way transmission of behavior. in contrast, two grouping individuals mutually attract and information transmission becomes a two-way, or group-level, process. this generates a positive feedback, making the process self-reinforcing: one individual provides information for another individual to find food, which in turn provides information for the former to find food, and so on. this process depends on the spatial aggregation of resource items, which makes subsequent food finding events non-independent. two grouping individuals are therefore better able to "sense" the patch and prolong the patch depletion process. in this way they gain more food per capita than they would when foraging alone, or when following a solitary individual. this synergy makes the process mutually-beneficial, which is why grouping is selected during evolution. these characteristics correspond with recent definitions of cooperation  <cit> .

the mutually self-reinforced information sharing differs from the one-way information transmission generally considered in information sharing  and producer-scrounger  models. in is and ps models, each patch finding event is assumed to be independent and individuals are assumed to join a patch finder  <cit> . in this setting, grouping can only lead to enhanced food finding rates if patches are sufficiently ephemeral, or individuals abandon patches when they are satiated  <cit> . moreover, reciprocity of information production is not guaranteed. one-way information transmission is therefore inherently parasitism prone, as revealed by producer-scrounger models  <cit> . in contrast, our results emphasize that information sharing can occur implicitly through the grouping process itself. this could be referred to as local enhancement  <cit> , but the process we describe is more implicit and elementary than types of local enhancement where individuals respond to seeing that neighbors are eating. important is that the spatial aggregation of resource items leads to an automatic and immediate "reciprocity": if one individual produces information for another to eat, that eating in turn generates information for the former and so on. this process breaks down as soon as any individual stops grouping, or foraging, but this affects both individuals equally. there is therefore no incentive, nor possibility, to parasitise this process.

through implicit information sharing, groups can detect large scale environmental patterns. while we find that small groups evolve for cooperative patch depletion, it is possible that in environments of greater complexity, such as patchy environments with greater diversity of resource types and/or quality, larger groups would be required in order for fitness relevant patterns to be detected via implicit information sharing. moreover, such implicit information sharing can operate even when grouping evolves for other reasons, such as predation pressure, and could be very general. indeed implicit information sharing may also be relevant for the case of well-defined and detectable "discrete" patches, such as those of is and ps models . this would require that patches are aggregated, but on a spatial scale that exceeds individual perception, and that at least a few patches fall within the range that individuals can detect each other . if one does not directly assume an explicit social information use where all individuals will join a patch finder , then an implicit grouping process could lead to a situation where the finding of one patch by some individuals increases the chance of other individuals finding another patch and so on. indeed, we already partially see this in terms of fragmented patches , which groups are much better able to sense and deplete. however, in many group foraging models the spatial distribution of patches is undefined  <cit> , or random and not explicitly considered  <cit> . this either prevents or limits the potential role of implicit information sharing. to find out how relevant implicit information sharing is for real group foragers requires a fine-grained approach to determine whether  the range at which animals can detect food is both smaller than  the range at which they can sense patches or detect other patches, and  the range at which they can detect neighboring individuals. crucially, the group must be able to spread across a larger range of the resource pattern than what individuals could sense individually.

in terms of sociality and cooperative behavior, our results reveal how group foraging can generate a mutually-beneficial cooperative process. crucially, group foraging leads to a synergistic effect. synergy is an important prerequisite for adaptive cooperation. however, evolutionary game theory and other evolutionary approaches to cooperation do not address where such synergy comes from, but directly assume it  <cit> . we show how a mutually-beneficial synergistic process can come into existence as a side-effect of a new level of organization in the population, namely grouping. that cooperative patch depletion is a side-effect, becomes clear if one places individuals with evolved grouping rules in the uniform environment. this would not generate a mutually-beneficial process, only increased local competition for food. this emphasizes that while grouping is encoded in genes in our model, cooperation is not. the cooperative behavior is therefore not an individual-level property , but an emergent group-level property. in a patchy environment, evolution effectively only has to "invent" grouping, and then gets cooperative foraging "for free" as an evolutionary novelty. this side-effect then generates a novel selection pressure that causes grouping to be selected. in this way, understanding the origin of this cooperative behavior from the organization of individuals into groups, requires taking into account higher levels of organization and their impact on natural selection, i.e. multi-level selection. this emphasizes the role of self-organization in allowing novel phenomena, and their impact on fitness, to emerge during the evolutionary process  <cit> .

CONCLUSIONS
our results show that the evolution of grouping can lead to enhanced foraging efficiency if groups can cooperatively "sense" patterns in the environment. in particular we show how grouping enhances depletion of food patches. such cooperative foraging changes the niche specialization of individuals, allowing them to access resources in partially depleted patches. this reveals a role that sociality could play in ecological diversification. we find that the cooperative patch depletion emerges from self-organized information sharing, and generates novel selection pressures at the level of the group. moreover, since individuals cannot parasitise this cooperative process, our results emphasize the origin of sociality and cooperation outside of cooperative dilemma settings, as suggested by others  <cit> . instead, cooperative dilemma settings with a potential for "cheating", could be a more derived evolutionary state for social foragers, or requires extra behavioral dimensions . our results provide a useful baseline for exploring these issues.

abbreviations
is: information sharing; mtf: move to food; opp-gr: opportunistic grouping; ost: optimal search theory; pairs: traveling pairs; ps: producer-scrounger; sol: solitary

authors' contributions
dp developed the model and conducted the analysis. dp and ds wrote the paper. all authors read and approved the final manuscript.

supplementary material
additional file 1
supporting information. the first file is additional file <dig> pdf in pdf format which can be viewed in any pdf-viewer such as acrobat reader. this file includes additional detail about the main simulation model and the modeling methodology, additional analysis, as well as details and analysis on alternative models.

click here for file

 additional file 2
movies in mini-website. the second file is additional file <dig> zip, which is a zipped folder "miniwebsite" with file index.html  in which gif animations can be viewed. the gif animations reside in subfolder "miniwebsite/movies". the html file  can be opened with any web-browser and shows links to three pages showing the gif animations:  animatic s1: solitary foraging,  animatic s2: traveling pairs foraging, and  animatic s3: opportunistic grouping individuals that are foraging. descriptions of the movies are given in "index.html". these animations should start playing as soon as the link to the page with the animation is opened using a web-browser.

click here for file

 acknowledgements and funding
the authors would like to thank laura salazar, mathias franz, nobuto takeuchi, folkert de boer, rineke verbrugge, katrin fehl, frederic nowak and harmen de weert for useful suggestions. this research was funded by the german initiative of excellence of the german science foundation . dp was also funded by the netherlands organization for scientific research vici grant nwo-277-80- <dig> .
