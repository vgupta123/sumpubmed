BACKGROUND
one of the major problems that life science researchers have to cope with is the management of huge amounts of data, which is ever increasing with advances in robotics and microarray technologies. more and more laboratories have begun adopting structured query language -based relational databases, such as oracle and mysql, to solve life sciences data management problems. another major problem in life sciences is secure and efficient data sharing, especially when the data is in large scale. a common temporary solution is using shared folders on the internet or intranet; however, this option provides minimal data security and is accompanied by difficulties in associating information with files. therefore, novel, easy-to-use, and powerful data management and sharing systems are needed in the life sciences.

though microarray-based experiments are becoming popular in life science research, microarray data management and analysis are still challenging tasks for many biologists. researchers often use manual or custom developed systems for microarray data management and analysis, which are limited by developers' knowledge of computer sciences, biostatistics, and life sciences. commercial products for microarray data analysis are being released, such as genespring gx from agilent technlogies, santa clara, ca  <dig> and genesifter from vizx labs, seattle, wa  <dig>  however, these products are often complicated, expensive, and/or lack data sharing capabilities. for biostatisticians and experienced analysts, r language  <cit>  and bioconductor  <cit>  are the main microarray data analysis tools. r is a widely used open source language for statistical computing and graphics. bioconductor, which is primarily based on the r programming language, is an open development software project for the analysis and comprehension of genomic data. currently, hundreds of bioconductor packages have been developed, providing comprehensive functionalities for all aspects of microarray data analysis. for example, affy is often used for low-level analysis of affymetrix genechip data, while multtest is useful in detecting differentially expressed genes. currently, web-based systems based on r and bioconductor packages are being developed, such as carmaweb  <cit> , magma  <cit> , gepas  <cit> , asterias  <cit> , arraypipe  <cit> , midaw  <cit> , race  <cit> , webarray  <cit> , and expression profiler  <cit> . while these systems have made microarray data analysis much easier for experienced users, much improvement is needed to further automate the common data analysis processes so that they can be readily accessible to novice users.

in order to provide an easy-to-use microarray system for researchers with little pre-knowledge of microarray data analysis as well as experienced analysts, we have designed a web-based system, ezarray, based on the most recent web technologies, r, and bioconductor. ezarray is intended to provide: 1) a centralized location to store original microarray data with security; 2) an easy and secure way to share raw data and analyze results among team members; 3) a highly automated data analysis system for instant on-line data analysis; 4) an expandable system to integrate new data management and analysis tools.

implementation
to implement ezarray, we adopted the popular database and web application software bundle lamp which refers to linux operating system, apache web server, mysql database, php programming language. selecting these technologies is mainly based on features such as low technical requirements for webmasters, programmers, and end users, open source, rapid application development, low total cost of ownership, and extremely large resources for free application source codes. in addition, we heavily incorporated ajax  technologies to increase the system's interactivity, speed, functionality, and usability.

on ezarray server, php scripts deal with communication between users and the server, dynamically generate r scripts based on user input, execute r scripts in the background, and parse r output and present results to end users as html webpages. user information, data files, project information and analysis results are stored in database and server file system. ezarray comes with a web-based file management tool  and a request job management tool . on the client end, users logically follow these steps: register, logon, create or join a user group, create projects, import sample information and upload microarray data, submit analysis requests and browse results. the analysis tools  can be used in orders as shown in figure  <dig>  users can perform each type of analysis multiple times with modified parameters.

RESULTS
ezarray system architecture
we propose that an ideal microarray system should be easy-to-use for all levels of users, have minimal software and hardware requirements for installation and usage, have data privacy for each user but also allow data sharing with others, be flexible to integrate custom tools, and provide maximum data analysis reproducibility. based on these ideas, we developed ezarray  in the open source application development environment lamp that consists of linux operating system, apache web server, mysql database, and php programming language. the combination of these technologies has become popular because of its low acquisition cost and because of the ubiquity of its components. we release ezarray under the gnu general public license, providing end users maximal freedom in taking advantage of the ezarray source codes.

ezarray is a multi-user system with web interfaces. all users must first register, and their accounts will become active upon approval by system administrators. user login information is stored in mysql database with encryption, making ezarray a highly secure system.

microarray data management and sharing in ezarray
in ezarray, data are either stored in mysql database or on the server as files. microarray data are organized by projects, and a user can create unlimited projects. currently, only minimal project information is required, including affymetrix array chip type, a brief project description, and optional project details. collecting minimal project information allows users to get started quickly. in each project, only one array chip type is allowed. besides affymetrix chip type names such as hug133plus <dig>  users can also enter gene expression omnibus   <cit>  platform names such as gpl <dig>  the array sample information and the cel files generated from affymetrix genechip operating system can be added one-by-one or imported into a project in batch. in ezarray data analysis can be performed with all samples in a project or just a few selected samples.

ezarray projects, samples, and analysis results entered by a user may be shared with group members in read-only mode . however, ezarray administrators can adjust data sharing methods by changing the settings in the configuration file.

microarray data analysis procedures in ezarray
microarray data analysis in ezarray is highly automated such that even novice users can perform initial analysis and get results instantly. experienced users can also use the system with full control of the analysis procedures. in general, microarray data analysis is performed step-by-step with these programs: preq – preprocessing, normalization, and quality control plots; pros – statistical procedures for detecting differentially expressed genes; and repa – gene annotation and linking to public databases .

preq reads the raw affymetrix expression array data files  and completes all necessary data preprocessing, including data background correction, data normalization, correction for non-specific binding, and summarization where the measured probe intensities are averaged to one expression value per probe set . there are four pre-defined data preprocessing methods  and one custom method. rma method uses robust multichip average  algorithm  <cit>  for background correction. mas <dig> method adopts the affymetrix mas <dig> algorithm  <cit> . dchip uses a special li-wong summarization algorithm  <cit>  that is a model-based approach, allowing pooling of information across multiple arrays and automatic probe selection to handle cross-hybridization and image contamination. gcrma uses the background correction method gcrma  <cit>  that takes probe sequence information into calculation. the custom method in preq allows users to select specific preprocessing algorithms for each type of processes. table  <dig> shows a summary of algorithms used in each preq method. detailed comparison of the different affymetrix preprocessing algorithms can be found in reference  <cit> . the affy package from bioconductor is used in preq for most data preprocessing tasks. in addition to data preprocessing, preq is a convenient tool to assess data quality since it generates many quality assessment plots. the current ezarray version includes histoplots of the intensity data, affyplm plots that fit probe level models to array data, rna digestion plots in which ordered probes are used to detect possible rna degradation, simpleaffy qc plots that provide access to many of the standard qc functions recommended for affymetrix arrays, ma plots that are widely used to compare two intensity measurements, scatter plots that show the correlation of cell intensity across arrays, and boxplots that help users evaluate the differences in the distributions of intensities across arrays. reference  <cit>  studied microarray data quality assessments and provides a good summary of quality assessment plots.

rma2
mas
gcrma-eb
quantiles.robust
loess
contrast
constant
invariantset
qspline
mas
avdiff
liwong
mas
playerout
the predefined methods rma, mas <dig>  and gcrma are named mainly based on the background correction algorithms, while dchip is named based the unique summarization algorithm. custom method allows users to specify algorithms for background correction, normalization, pm correction, and summarization. please review references  <cit>  and references therein for descriptions of these algorithms and comparisons among them.

the pros program in ezarray processes array data and detects differentially expressed genes with different methods based on the number of sample groups and replicates in each sample group . when there are only two sample groups, e.g. experimental condition verse control condition, and a small number of biological replicates  in each sample group, pros simply uses fold changes to detect differentially expressed genes. when a sufficient number of arrays are used in microarray experiments, e.g. three or more replicates in each sample group, various statistical tests can be used to detect differentially expressed genes. available statistical tests in the current ezarray version include two-sample welch t-test, two-sample t-test, standardized rank sum wilcoxon test, paired t-test, f-test, block f-test, and more. ezarray allows the users to select a number of multiple hypothesis testing methods to control error rate. references  <cit>  provide summaries of multiple hypothesis testing methods and their applications in microarray experiments. the main bioconductor package used in pros program is multtest.

 <dig>  total number of genes
• fold changes
• expression values
• two-sample t-test 
• standardized rank sum wilcoxon test
• paired t-test
• options for raw/nominal p-value calculation:
- parametric
- permutation
• holm step-down fwer
• hochberg step-up fwer
• sidak single-step fwer
• sidak step-down fwer
• benjamini & yekutieli step-up fdr
• benjamini & hochberg step-up fdr – selected
• storey q-value single-step pfdr
• westfall & young maxt permutation fwer
• limit to
- total number of genes
- adjusted p-values
- raw p-values
- test statistics
• fold changes
• statistic
• raw p-values
• adjusted p-values
• total number of genes
• standard deviation
• block f-test
• options for raw/nominal p-value calculation:
- parametric
- permutation
• holm step-down fwer
• hochberg step-up fwer
• sidak single-step fwer
• sidak step-down fwer
• benjamini & yekutieli step-up fdr – selected
• benjamini & hochberg step-up fdr
• storey q-value single-step pfdr
• westfall & young maxt permutation fwer
• statistic value
while users can specify the statistical testing methods and parameters for the analysis, ezarray has built-in logics to select methods and parameters in the default modes. in general: 1) rma is used to pre-process data; 2) if there is only one sample group, no analysis is performed; 3) if there are two groups and one or both of them has less than three replicates, then a fold change cut-off is applied, and the system returns the top genes  with  <dig>  or higher fold change; 4) if there are three or more groups and one or more of them have less three replicates, then a standard deviation  cut-off is applied, and the system returns the top genes  with sd within 90%; 5) if there are two groups and both of them have three or more replicates, then t test and benjamini & hochberg step-up fdr  are applied, and the system returns the top  <dig> genes ordered by adjusted p-values, unadjusted p-values, and test statistics and with fold change >=  <dig> ; 6) if there are three or more groups and all groups have three or more replicates, then f-test and bh are applied, and the system returns the top  <dig> genes ordered by adjusted p-values, unadjusted p-values, and test statistics.

the repa program is a web interface of the bioconductor package annaffy that produces compact html and text reports including experimental data and hyperlinks to many online databases. repa makes the results more understandable for biologists. while the repa program is tightly linked to the pros program, ezarray also provides two annaffy-based standalone tools that allow users to annotate genes from a list of probe names or search for probes based on gene annotation information.

though these three analysis programs are tightly connected and are normally used in sequential order, experienced users can use them individually or combine them with their own analysis scripts. for example, users can first use the highly automated preq program to complete data preprocessing and generate necessary quality assessment plots. then, based on the initial results, users can download and revise the analysis scripts for further analysis.

in order to make our microarray data analysis system practically useful for users with less knowledge of biostatistics and also make it a convenient system for experienced users, we further optimized and integrated our three-step analysis programs into a one-step data analysis program called express analysis. with express analysis, if users select the optimized settings , they can obtain a list of differentially expressed genes with annotation in just a single click. figure  <dig> shows the screenshots of ezarray express analysis from searching geo databases , selecting samples , and finally, obtaining analysis results . again, experienced users can select "custom" methods to tune data analysis parameters and select desired analysis algorithms. express analysis in ezarray represents the most automated microarray data analysis program currently released.

re-analysis of previously published microarray data
ezarray can be used to re-analyze previously published affymetrix expression array data that were deposited in geo, the main gene expression/molecular abundance repository. due to rapid advances of microarray data analysis technologies and specialized foci of previous microarray researchers, it will be of significance to re-analyze some published microarray data. in addition, with increasingly accumulated microarray data in geo, it becomes possible to study some new research projects using deposited microarray data from different laboratories. for these purposes, we have added a very convenient tool in ezarray allowing users to search geo microarray data, automatically download array data, and create new projects with automatically populated sample information .

ezarray contains tools to retrieve the descriptive information of all geo records, including platforms, series, samples, and datasets. ezarray also contains a simple search form allowing users to search for datasets . the search results include a list of datasets with links to geo website. users can select one or more datasets from the list and create projects for data re-analysis. ezarray downloads the corresponding dataset files automatically from the geo website.

analysis of geo microarray data may be started from raw microarray data  or pre-processed expression value data originally submitted by previous authors. in the first case, if authors have submitted .cel files to geo, ezarray will automatically download these supplementary files and link them to the newly created projects. then users can perform data analysis with ezarray programs as previously stated. in the second case, regardless of whether authors submitted raw microarray data or not, ezarray retrieves curated datasets from geo, extracts the dataset information, and stores them in the project, which can be readily used to perform data re-analysis with program pros directly without performing data pre-processing with preq.

discussion
ezarray is a web-based affymetrix expression array data management and analysis system implemented in an open source environment. since the same technologies are often used to build database-powered websites, ezarray can be easily integrated with users' existing websites. in summary, ezarray takes advantages of modern web technologies, provides multiple user support, has group-based data sharing capabilities, contains tools for highly automated data analysis, and has user-friendly interfaces. these features distinguish ezarray from most other standalone and web-based microarray programs.

most microarray data analysis tools have been implemented as bioconductor r packages that run from the command line or have simple point-and-click graphic interfaces. both r packages limma  <cit>  and affy offer r users a command-line interface to state-of-the-art microarray data analysis techniques. the r packages affylmgui  <cit>  and webbioc offer simple point-and-click interfaces to many of the limma and affy functions. it seems these programs simply analyze data instead of providing comprehensive data management capabilities.

recently, more and more web-based microarray systems have been developed. magma  <cit>  is a java-based web application that provides a simple and intuitive interface to identify differentially expressed genes from two-channel microarray data. magma does not support databases, and the results are file-based. though magma provides for each user a separate workspace for storing and analyzing microarray data, magma lacks tools for data sharing among users. similar to ezarray, magma automatically generates r-scripts that document the entire data processing steps. however, ezarray takes it further by allowing the users to download all input and output files together with r-scripts. this guarantees the user to regenerate all results in his local r installation. in terms of data analysis, magma does not contain the gene annotation step and the results are tab-delimited text files and graphic plot files. the repa program in ezarray generates html webpages with hyperlinks to public life science databases. in addition, compared to ezarray, magma does not include algorithms to automatically select data analysis methods and parameters, and therefore, the analysis process is less automated. gepas  <cit>  has been designed to provide an intuitive web-based interface that offers diverse analysis options from data preprocessing to gene selection, gene clustering, gene annotation, and more. instead of taking advantages of existing r and bioconductor packages, gepas has incorporated many newly developed programs written in 'c' languages. the web interfaces of gepas are perl cgis. the most recent version of gepas  has included very simple tools for user registration as well as data file browsing. in addition, due to the abundance of novel programs and low level of automation in data analysis, using gepas requires in-depth knowledge of the system and many microarray data analysis algorithms. asterias  <cit>  is an open source and web-based suite for the analysis of gene expression and acgh data. asterias is the only web-based application that uses parallel computing. asterias also takes advantages of many r and bioconductor packages including limma. the web interfaces of asterias are mostly written in python. though a few applications in asterias support mysql database, asterias does not contain any tools for user or data management. the input data to all applications are plain text files that are uploaded "on the fly" during analysis. the web application carmaweb  <cit>  was implemented in java based on j2ee  software technology. it supports affymetrix genechips, spotted two-color microarrays and applied biosystems  microarrays. carmaweb has a simple user management tool that guarantees password protected access to the user's data and analysis results. all user data are stored as files in the user data directory. currently, carmaweb does not support databases and group-based data sharing. webarray  <cit>  is another microarray system implemented with technologies similar to those used in ezarray . webarray provides a user-friendly interface for accessing a wide range of key functions of limma and other bioconductor packages. webarray is an excellent free open source software system for microarray analysis that can be used by an average biologist after moderate training. nevertheless, webarray has limited capabilities in data management and data sharing. webarray is not project-oriented and all data are stored as files in one user data directory. though webarray allows users to download output files , it does not allow downloading of executed r scripts. when compared to these web microarray systems, ezarray features much more intuitive user interfaces, more powerful data management capabilities, and significantly higher levels of automation in the analysis processes.

ezarray was designed to be operating system-independent due to the cross-platform features of apache and php. ezarray is also expected to be database platform-independent due to the adoption of a database abstraction library adodb  <cit>  that supports most sql-based databases. this provides the flexibility for end users to select convenient operating systems and database servers. so far, we have fully tested ezarray on the linux operating system  with mysql database, and we are planning to test ezarray on other operating systems with various databases.

the current version of ezarray stores only minimal experimental information. we are planning to develop new database tables and corresponding web interfaces for storing miame  <cit> -compliant microarray data.

due to the modular structures and open source features of ezarray, extensions or new functionalities can be rapidly implemented on top of ezarray. we have already started designing web-based tools for analyzing agilent and nimblegen microarray data. even with affymetrix expression data, our analysis procedures can be further improved. for example, for data with two sample groups and just a few replicates per group, the current version of ezarray simply uses fold changes to select differentially expression genes. in next ezarray version, we plan to enhance the data analysis procedures with more established algorithms and programs, such as limma, sam  <cit> , and ebarrays  <cit> .

CONCLUSIONS
ezarray is an affymetrix expression array data management, analysis, and sharing system. besides tools for users to organize their own microarray data online and perform instant data analysis, ezarray contains tools for re-analyzing previously published microarray data deposited in geo. ezarray can not only help novice users perform initial analysis of their microarray data, but also allow experienced users to perform custom analysis from the location of data storage. in summary, ezarray will be a useful system for facilities with microarray services and laboratories with multiple members involved in microarray projects.

availability and requirements
ezarray is released under general public license and can be freely used at website . to install ezarray locally, users need to set up a linux server running apache and mysql. experienced users may be able to install ezarray on mac or windows operating systems with different database servers. recent versions of r and bioconductor should be pre-installed and properly configured.

authors' contributions
yuerongz developed the main idea, coded the majority of ezarray, and drafted the manuscript. yuelinz was involved in system and statistics design, coded the majority of r scripts, performed overall program debugging and testing, and was involved in revising the manuscript. wx provided helpful discussion and performed software tests. she was also involved in revising the manuscript. all authors read and approved the final manuscript.

